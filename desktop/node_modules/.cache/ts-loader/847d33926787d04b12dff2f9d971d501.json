{"remainingRequest":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Molin\\Companion\\desktop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Molin\\Companion\\desktop\\node_modules\\ts-loader\\index.js??ref--13-3!C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue","mtime":1615172805708},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1610245779138},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\babel-loader\\lib\\index.js","mtime":1610329795007},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\ts-loader\\index.js","mtime":1610329799503},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js","mtime":1610329801347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9Nb2xpbi9Db21wYW5pb24vZGVza3RvcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovVXNlcnMvTW9saW4vQ29tcGFuaW9uL2Rlc2t0b3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOi9Vc2Vycy9Nb2xpbi9Db21wYW5pb24vZGVza3RvcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL01vbGluL0NvbXBhbmlvbi9kZXNrdG9wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzovVXNlcnMvTW9saW4vQ29tcGFuaW9uL2Rlc2t0b3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IERleGllIGZyb20gImRleGllIjsgLy90aGlzIGNsYXNzIHJlcHJlc2VudHMgYSB2aWRlbyBpbnNpZGUgYSBmb2xkZXIKCnZhciBWaWRlbyA9IGZ1bmN0aW9uIFZpZGVvKCkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlbyk7Cn07IC8vdGhpcyBjbGFzcyByZXByZXNlbnRzIGEgZm9sZGVyCgoKdmFyIFZpZGVvRm9sZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBWaWRlb0ZvbGRlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb0ZvbGRlcik7CgogICAgdGhpcy52aWRlb0xpc3QgPSBbXTsKICB9CgogIF9jcmVhdGVDbGFzcyhWaWRlb0ZvbGRlciwgW3sKICAgIGtleTogInNldERhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGUoZGF0ZSkgewogICAgICB0aGlzLmRhdGUgPSBkYXRlOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFRpbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRpbWUodGltZSkgewogICAgICB0aGlzLnRpbWUgPSB0aW1lOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFZpZGVvVG9Gb2xkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFZpZGVvVG9Gb2xkZXIodmlkZW8pIHsKICAgICAgdGhpcy52aWRlb0xpc3QucHVzaCh2aWRlbyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVmlkZW9Gb2xkZXI7Cn0oKTsKCnZhciBIaWdobGlnaHRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEhpZ2hsaWdodHMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEhpZ2hsaWdodHMpOwoKICBmdW5jdGlvbiBIaWdobGlnaHRzKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIaWdobGlnaHRzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMudmlkZW9MaXN0ID0gW107CiAgICBfdGhpcy5jdXJyZW50X1ZpZGVvID0gIiI7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSGlnaGxpZ2h0cywgW3sKICAgIGtleTogInNldFZpZGVvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaWRlbyhuZXdWaWRlbykgewogICAgICB0aGlzLmN1cnJlbnRfVmlkZW8gPSBuZXdWaWRlbzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc2VsZiwgc2V0Rmlyc3RWaWRlbywgbG9jYWxEQiwgcmVjZW50R2FtZXMsIG9sZGVyR2FtZXMsIGluZGV4LCBtYXRjaF9kYXRlLCB0ZW1wRm9sZGVyLCB2aWRlb3NJbk1hdGNoLCB1cmxzLCB0ZW1wVmlkZW8sIF9pbmRleCwgb2xkZXJWaWRlb3MsIF91cmxzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZWxmID0gdGhpczsKICAgICAgICAgICAgICAgIHNldEZpcnN0VmlkZW8gPSBmYWxzZTsgLy9mZXRjaCByZWNlbnQgdmlkZW9zCiAgICAgICAgICAgICAgICAvL29wZW4gbG9jYWwgZGF0YWJhc2UKCiAgICAgICAgICAgICAgICBsb2NhbERCID0gbmV3IERleGllKCJoaWdobGlnaHRzREIiKTsKICAgICAgICAgICAgICAgIGxvY2FsREIudmVyc2lvbigxKS5zdG9yZXMoewogICAgICAgICAgICAgICAgICBtYXRjaGVzOiAibWF0Y2hfaWQsIG1hdGNoX3N0YXJ0X3RpbWUiLAogICAgICAgICAgICAgICAgICB2aWRlb3M6ICJtZWRpYV91cmwsIG1hdGNoX2lkLCB0aHVtYm5haWxfdXJsLCBoaWdobGlnaHRfc3RhcnRfdGltZSwgZHVyYXRpb24sIGhpZ2h0VHlwZSIKICAgICAgICAgICAgICAgIH0pOyAvL2dldCBsYXN0IDUgbW9zdCByZWNlbnQgZ2FtZXMKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnRhYmxlKCJtYXRjaGVzIikub3JkZXJCeSgibWF0Y2hfc3RhcnRfdGltZSIpLnJldmVyc2UoKS5saW1pdCg1KS50b0FycmF5KClbImNhdGNoIl0oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlY2VudEdhbWVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIudGFibGUoIm1hdGNoZXMiKS5vcmRlckJ5KCJtYXRjaF9zdGFydF90aW1lIikucmV2ZXJzZSgpLm9mZnNldCg1KS50b0FycmF5KClbImNhdGNoIl0oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIG9sZGVyR2FtZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgLy9kaXNwbGF5IHJlc3VsdHMKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhcnJheSBvZiByZWNlbnQgZ2FtZXM6ICIsIHJlY2VudEdhbWVzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhcnJheSBvZiBvbGRlciBnYW1lczogIiwgb2xkZXJHYW1lcyk7IC8vbG9vcCB0aHJvdWdoIGxhc3QgNSBnYW1lcyBhbmQgdXNlIGdhbWUgaWQncyB0byBwdWxsIGRhdGEKICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZQoKICAgICAgICAgICAgICAgIGluZGV4ID0gMDsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmICghKGluZGV4IDwgcmVjZW50R2FtZXMubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1hdGNoX2RhdGUgPSBuZXcgRGF0ZShyZWNlbnRHYW1lc1tpbmRleF0ubWF0Y2hfc3RhcnRfdGltZSk7IC8vY3JlYXRlIG5ldyBtYXRjaAoKICAgICAgICAgICAgICAgIHRlbXBGb2xkZXIgPSBuZXcgVmlkZW9Gb2xkZXIoKTsgLy9zZXQgZGF0ZSBhbmQgdGltZSBmcm9tIHRoZSBkYXRhYmFzZQoKICAgICAgICAgICAgICAgIHRlbXBGb2xkZXIuc2V0RGF0ZShtYXRjaF9kYXRlLnRvRGF0ZVN0cmluZygpKTsKICAgICAgICAgICAgICAgIHRlbXBGb2xkZXIuc2V0VGltZShtYXRjaF9kYXRlLnRvTG9jYWxlVGltZVN0cmluZygpKTsgLy9nZXQgYWxsIHRoZSB2aWRlb3Mgd2l0aCBtYXRjaGluZyBpZHMKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi50YWJsZSgidmlkZW9zIikud2hlcmUoIm1hdGNoX2lkIikuZXF1YWxzKHJlY2VudEdhbWVzW2luZGV4XS5tYXRjaF9pZCkudG9BcnJheSgpWyJjYXRjaCJdKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgdmlkZW9zSW5NYXRjaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVmlkZW9zIEZvdW5kOiAiLCB2aWRlb3NJbk1hdGNoKTsgLy9AdHMtaWdub3JlCgogICAgICAgICAgICAgICAgZm9yICh1cmxzID0gMDsgdXJscyA8IHZpZGVvc0luTWF0Y2gubGVuZ3RoOyB1cmxzKyspIHsKICAgICAgICAgICAgICAgICAgdGVtcFZpZGVvID0gbmV3IFZpZGVvKCk7IC8vIGNvbnNvbGUubG9nKCJkdXJhdGlvbjogIiwgbmV3IERhdGUgICh2aWRlb3NJbk1hdGNoW3VybHNdLmR1cmF0aW9uKS5nZXRTZWNvbmRzKCkrInMiKTsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImhpZ2hsaWdodF9zdGFydF90aW1lOiAiLCBuZXcgRGF0ZSAgKHZpZGVvc0luTWF0Y2hbdXJsc10uaGlnaGxpZ2h0X3N0YXJ0X3RpbWUpLnRvTG9jYWxlVGltZVN0cmluZygpKTsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImhpZ2h0VHlwZTogIiwgdmlkZW9zSW5NYXRjaFt1cmxzXS5oaWdodFR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2h0VHlwZS5zbGljZSgxKSk7IC8vbWFrZSBmaXJzdCBsZXR0ZXIgdXBwZXJjYXNlCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJtZWRpYV91cmw6ICIsIHZpZGVvc0luTWF0Y2hbdXJsc10ubWVkaWFfdXJsKTsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInRodW1ibmFpbF91cmw6ICIsdmlkZW9zSW5NYXRjaFt1cmxzXS50aHVtYm5haWxfdXJsKTsgCgogICAgICAgICAgICAgICAgICBpZiAoIXNldEZpcnN0VmlkZW8pIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRfVmlkZW8gPSB2aWRlb3NJbk1hdGNoW3VybHNdLm1lZGlhX3VybDsKICAgICAgICAgICAgICAgICAgICBzZXRGaXJzdFZpZGVvID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdGVtcFZpZGVvLnZpZGVvQWRkcmVzcyA9IHZpZGVvc0luTWF0Y2hbdXJsc10ubWVkaWFfdXJsOwogICAgICAgICAgICAgICAgICB0ZW1wVmlkZW8udmlkZW9TdGFydFRpbWUgPSBuZXcgRGF0ZSh2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2hsaWdodF9zdGFydF90aW1lKS50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgdGVtcFZpZGVvLmR1cmF0aW9uID0gbmV3IERhdGUodmlkZW9zSW5NYXRjaFt1cmxzXS5kdXJhdGlvbikuZ2V0U2Vjb25kcygpICsgInMiOwogICAgICAgICAgICAgICAgICB0ZW1wVmlkZW8uaGlnaGxpZ2h0VHlwZSA9IHZpZGVvc0luTWF0Y2hbdXJsc10uaGlnaHRUeXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmlkZW9zSW5NYXRjaFt1cmxzXS5oaWdodFR5cGUuc2xpY2UoMSk7IC8vbWFrZSBmaXJzdCBsZXR0ZXIgdXBwZXJjYXNlCgogICAgICAgICAgICAgICAgICB0ZW1wVmlkZW8udGh1bWJuYWlsX3VybCA9IHZpZGVvc0luTWF0Y2hbdXJsc10udGh1bWJuYWlsX3VybDsKICAgICAgICAgICAgICAgICAgdGVtcEZvbGRlci5hZGRWaWRlb1RvRm9sZGVyKHRlbXBWaWRlbyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc2VsZi52aWRlb0xpc3QucHVzaCh0ZW1wRm9sZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF9pbmRleCA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBpZiAoIShfaW5kZXggPCBvbGRlckdhbWVzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi50YWJsZSgidmlkZW9zIikud2hlcmUoIm1hdGNoX2lkIikuZXF1YWxzKG9sZGVyR2FtZXNbX2luZGV4XS5tYXRjaF9pZCkudG9BcnJheSgpWyJjYXRjaCJdKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgb2xkZXJWaWRlb3MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk9sZGVyIFZpZGVvcyBGb3VuZDogIiwgb2xkZXJWaWRlb3MpOyAvL2xvb3AgdGhyb3VnaCB2aWRlbyBhZHJlc3NlcyBpbiBtYXRjaGVzCiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmUKCiAgICAgICAgICAgICAgICBmb3IgKF91cmxzID0gMDsgX3VybHMgPCBvbGRlclZpZGVvcy5sZW5ndGg7IF91cmxzKyspIHsKICAgICAgICAgICAgICAgICAgLy9kZWxldGUgYWN0dWFsIHZpZGVvcyBmcm9tIGxvY2FsIGRpc2sgdXNpbmcgb3ZlcndvbGYKICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlCiAgICAgICAgICAgICAgICAgIG92ZXJ3b2xmLm1lZGlhLnZpZGVvcy5kZWxldGVWaWRlbyhvbGRlclZpZGVvc1tfdXJsc10ubWVkaWFfdXJsKTsKICAgICAgICAgICAgICAgIH0gLy90aGVuIHJlbW92ZSB0aGVtIGZyb20gdGhlIHZpZGVvcyBkYXRhYmFzZQoKCiAgICAgICAgICAgICAgICBsb2NhbERCLnRhYmxlKCJ2aWRlb3MiKS53aGVyZSgibWF0Y2hfaWQiKS5lcXVhbHMocmVjZW50R2FtZXNbX2luZGV4XS5tYXRjaF9pZClbImRlbGV0ZSJdKCkudGhlbihmdW5jdGlvbiAoZGVsZXRlQ291bnQpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGV0ZWQgb2xkZXIgaGlnaGxpZ2h0cyB2aWRlb3M6ICIsIGRlbGV0ZUNvdW50KTsKICAgICAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgX2luZGV4Kys7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MDsKICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnRhYmxlKCJtYXRjaGVzIikub3JkZXJCeSgibWF0Y2hfc3RhcnRfdGltZSIpLnJldmVyc2UoKS5vZmZzZXQoNSlbImRlbGV0ZSJdKCkudGhlbihmdW5jdGlvbiAoZGVsZXRlQ291bnQpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGV0ZWQgb2xkIG1hdGNoIGRhdGEiLCBkZWxldGVDb3VudCk7CiAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbW91bnRlZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIC8vIHdpbmRvdyByZXNpemUKICAgICAgdmFyIFdpbmRvd0lkOyAvL0B0cy1pZ25vcmUKCiAgICAgIG92ZXJ3b2xmLndpbmRvd3MuZ2V0Q3VycmVudFdpbmRvdyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgV2luZG93SWQgPSByZXMud2luZG93LmlkOwogICAgICAgIGNvbnNvbGUubG9nKCJXaW5kb3cgaWQ6ICIsIFdpbmRvd0lkKTsKICAgICAgICB2YXIgc2l6ZVNldHRpbmdzID0gewogICAgICAgICAgd2luZG93X2lkOiBXaW5kb3dJZCwKICAgICAgICAgIHdpZHRoOiAxNjAwLAogICAgICAgICAgaGVpZ2h0OiA4MDAsCiAgICAgICAgICBhdXRvX2RwaV9yZXNpemU6IHRydWUKICAgICAgICB9OyAvL0B0cy1pZ25vcmUKCiAgICAgICAgb3ZlcndvbGYud2luZG93cy5jaGFuZ2VTaXplKHNpemVTZXR0aW5ncywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJjaGFuZ2Ugc2l6ZSBjYWxsYmFjazogIiwgZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEhpZ2hsaWdodHM7Cn0oVnVlKTsKCkhpZ2hsaWdodHMgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBIaWdobGlnaHRzKTsKZXhwb3J0IGRlZmF1bHQgSGlnaGxpZ2h0czs="},{"version":3,"sources":["C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport Dexie from \"dexie\";\r\n\r\n//this class represents a video inside a folder\r\nclass Video {\r\n  public videoAddress: string;\r\n  public videoStartTime: string;\r\n  public duration: string;\r\n  public highlightType: string;\r\n  public thumbnail_url: string;\r\n}\r\n\r\n//this class represents a folder\r\nclass VideoFolder {\r\n  //if we query match id with riot we can probabyly get matchtype and champion used\r\n  public gameType: string; //regular/aram/practice\r\n  public champion: string; //url of champion img\r\n\r\n  //below is received from database\r\n  public date: string;\r\n  public time: string;\r\n  public videoList: Array<Video> = [];\r\n\r\n  setDate(date: string) {\r\n    this.date = date;\r\n  }\r\n\r\n  setTime(time: string) {\r\n    this.time = time;\r\n  }\r\n\r\n  addVideoToFolder(video: Video) {\r\n    this.videoList.push(video);\r\n  }\r\n}\r\n\r\n@Component\r\nexport default class Highlights extends Vue {\r\n  videoList: Array<VideoFolder> = [];\r\n  current_Video = \"\";\r\n\r\n  setVideo(newVideo: string) {\r\n    this.current_Video = newVideo;\r\n  }\r\n\r\n  async mounted() {\r\n    let self = this;\r\n    let setFirstVideo = false;\r\n    //fetch recent videos\r\n\r\n    //open local database\r\n    var localDB = new Dexie(\"highlightsDB\");\r\n    localDB.version(1).stores({\r\n      matches: \"match_id, match_start_time\",\r\n      videos:\r\n        \"media_url, match_id, thumbnail_url, highlight_start_time, duration, hightType\",\r\n    });\r\n\r\n    //get last 5 most recent games\r\n    const recentGames = await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .limit(5)\r\n      .toArray()\r\n      .catch((e) => console.log(e));\r\n\r\n    //get all other games\r\n    const olderGames = await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .offset(5)\r\n      .toArray()\r\n      .catch((e) => console.log(e));\r\n\r\n    //display results\r\n    console.log(\"array of recent games: \", recentGames);\r\n    console.log(\"array of older games: \", olderGames);\r\n\r\n    //loop through last 5 games and use game id's to pull data\r\n    //@ts-ignore\r\n    for (let index = 0; index < recentGames.length; index++) {\r\n      let match_date = new Date(recentGames[index].match_start_time);\r\n\r\n      //create new match\r\n      let tempFolder = new VideoFolder();\r\n\r\n      //set date and time from the database\r\n      tempFolder.setDate(match_date.toDateString());\r\n      tempFolder.setTime(match_date.toLocaleTimeString());\r\n\r\n      //get all the videos with matching ids\r\n      let videosInMatch = await localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(recentGames[index].match_id)\r\n        .toArray()\r\n        .catch((e) => console.log(e));\r\n      console.log(\"Videos Found: \", videosInMatch);\r\n\r\n      //@ts-ignore\r\n      for (let urls = 0; urls < videosInMatch.length; urls++) {\r\n        let tempVideo = new Video();\r\n\r\n        // console.log(\"duration: \", new Date  (videosInMatch[urls].duration).getSeconds()+\"s\");\r\n        // console.log(\"highlight_start_time: \", new Date  (videosInMatch[urls].highlight_start_time).toLocaleTimeString());\r\n        // console.log(\"hightType: \", videosInMatch[urls].hightType.charAt(0).toUpperCase() + videosInMatch[urls].hightType.slice(1)); //make first letter uppercase\r\n        // console.log(\"media_url: \", videosInMatch[urls].media_url);\r\n        // console.log(\"thumbnail_url: \",videosInMatch[urls].thumbnail_url); \r\n        if(!setFirstVideo){\r\n          self.current_Video = videosInMatch[urls].media_url;\r\n          setFirstVideo = true;\r\n        }\r\n        tempVideo.videoAddress = videosInMatch[urls].media_url;\r\n        tempVideo.videoStartTime = new Date  (videosInMatch[urls].highlight_start_time).toLocaleTimeString();\r\n        tempVideo.duration =\r\n          new Date(videosInMatch[urls].duration).getSeconds() + \"s\";\r\n        tempVideo.highlightType =\r\n          videosInMatch[urls].hightType.charAt(0).toUpperCase() +\r\n          videosInMatch[urls].hightType.slice(1); //make first letter uppercase\r\n        tempVideo.thumbnail_url = videosInMatch[urls].thumbnail_url;\r\n\r\n        tempFolder.addVideoToFolder(tempVideo);\r\n      }\r\n\r\n      self.videoList.push(tempFolder);\r\n    }\r\n\r\n\r\n    //after this all the data is being displayed\r\n    //but now we need to delete the older games, so they dont pollute the database\r\n    //loop through older games and use game id's to delete data\r\n    //@ts-ignore\r\n    for (let index = 0; index < olderGames.length; index++) {\r\n\r\n      //get all the videos with matching ids\r\n       let olderVideos = await localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(olderGames[index].match_id)\r\n        .toArray()\r\n        .catch((e) => console.log(e));\r\n      console.log(\"Older Videos Found: \", olderVideos);\r\n\r\n      //loop through video adresses in matches\r\n      //@ts-ignore\r\n      for (let urls = 0; urls < olderVideos.length; urls++) {\r\n        //delete actual videos from local disk using overwolf\r\n        //@ts-ignore\r\n        overwolf.media.videos.deleteVideo(olderVideos[urls].media_url);\r\n      }\r\n\r\n      //then remove them from the videos database\r\n      localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(recentGames[index].match_id).delete().then( (deleteCount) => {\r\n        console.log(\"Deleted older highlights videos: \", deleteCount);\r\n      }).catch( e=> console.log(e));\r\n    }\r\n\r\n    //get all other games\r\n    await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .offset(5).delete()\r\n      .then( (deleteCount) => {\r\n        console.log(\"Deleted old match data\", deleteCount)\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n\r\n  }\r\n\r\n  \r\n\r\n  created() {\r\n    // window resize\r\n    let WindowId;\r\n    //@ts-ignore\r\n    overwolf.windows.getCurrentWindow(function (res) {\r\n      WindowId = res.window.id;\r\n      console.log(\"Window id: \", WindowId);\r\n      let sizeSettings = {\r\n        window_id: WindowId,\r\n        width: 1600,\r\n        height: 800,\r\n        auto_dpi_resize: true, //relevant only for native windows\r\n      };\r\n      //@ts-ignore\r\n      overwolf.windows.changeSize(sizeSettings, (e) => {\r\n        console.log(\"change size callback: \", e);\r\n      });\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}]}