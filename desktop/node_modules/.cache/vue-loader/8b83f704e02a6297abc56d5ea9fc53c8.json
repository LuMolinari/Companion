{"remainingRequest":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue","mtime":1615172805708},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\babel-loader\\lib\\index.js","mtime":1610329795007},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\ts-loader\\index.js","mtime":1610329799503},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js","mtime":1610329801347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsNCmltcG9ydCBEZXhpZSBmcm9tICJkZXhpZSI7DQoNCi8vdGhpcyBjbGFzcyByZXByZXNlbnRzIGEgdmlkZW8gaW5zaWRlIGEgZm9sZGVyDQpjbGFzcyBWaWRlbyB7DQogIHB1YmxpYyB2aWRlb0FkZHJlc3M6IHN0cmluZzsNCiAgcHVibGljIHZpZGVvU3RhcnRUaW1lOiBzdHJpbmc7DQogIHB1YmxpYyBkdXJhdGlvbjogc3RyaW5nOw0KICBwdWJsaWMgaGlnaGxpZ2h0VHlwZTogc3RyaW5nOw0KICBwdWJsaWMgdGh1bWJuYWlsX3VybDogc3RyaW5nOw0KfQ0KDQovL3RoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGZvbGRlcg0KY2xhc3MgVmlkZW9Gb2xkZXIgew0KICAvL2lmIHdlIHF1ZXJ5IG1hdGNoIGlkIHdpdGggcmlvdCB3ZSBjYW4gcHJvYmFieWx5IGdldCBtYXRjaHR5cGUgYW5kIGNoYW1waW9uIHVzZWQNCiAgcHVibGljIGdhbWVUeXBlOiBzdHJpbmc7IC8vcmVndWxhci9hcmFtL3ByYWN0aWNlDQogIHB1YmxpYyBjaGFtcGlvbjogc3RyaW5nOyAvL3VybCBvZiBjaGFtcGlvbiBpbWcNCg0KICAvL2JlbG93IGlzIHJlY2VpdmVkIGZyb20gZGF0YWJhc2UNCiAgcHVibGljIGRhdGU6IHN0cmluZzsNCiAgcHVibGljIHRpbWU6IHN0cmluZzsNCiAgcHVibGljIHZpZGVvTGlzdDogQXJyYXk8VmlkZW8+ID0gW107DQoNCiAgc2V0RGF0ZShkYXRlOiBzdHJpbmcpIHsNCiAgICB0aGlzLmRhdGUgPSBkYXRlOw0KICB9DQoNCiAgc2V0VGltZSh0aW1lOiBzdHJpbmcpIHsNCiAgICB0aGlzLnRpbWUgPSB0aW1lOw0KICB9DQoNCiAgYWRkVmlkZW9Ub0ZvbGRlcih2aWRlbzogVmlkZW8pIHsNCiAgICB0aGlzLnZpZGVvTGlzdC5wdXNoKHZpZGVvKTsNCiAgfQ0KfQ0KDQpAQ29tcG9uZW50DQpleHBvcnQgZGVmYXVsdCBjbGFzcyBIaWdobGlnaHRzIGV4dGVuZHMgVnVlIHsNCiAgdmlkZW9MaXN0OiBBcnJheTxWaWRlb0ZvbGRlcj4gPSBbXTsNCiAgY3VycmVudF9WaWRlbyA9ICIiOw0KDQogIHNldFZpZGVvKG5ld1ZpZGVvOiBzdHJpbmcpIHsNCiAgICB0aGlzLmN1cnJlbnRfVmlkZW8gPSBuZXdWaWRlbzsNCiAgfQ0KDQogIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgbGV0IHNlbGYgPSB0aGlzOw0KICAgIGxldCBzZXRGaXJzdFZpZGVvID0gZmFsc2U7DQogICAgLy9mZXRjaCByZWNlbnQgdmlkZW9zDQoNCiAgICAvL29wZW4gbG9jYWwgZGF0YWJhc2UNCiAgICB2YXIgbG9jYWxEQiA9IG5ldyBEZXhpZSgiaGlnaGxpZ2h0c0RCIik7DQogICAgbG9jYWxEQi52ZXJzaW9uKDEpLnN0b3Jlcyh7DQogICAgICBtYXRjaGVzOiAibWF0Y2hfaWQsIG1hdGNoX3N0YXJ0X3RpbWUiLA0KICAgICAgdmlkZW9zOg0KICAgICAgICAibWVkaWFfdXJsLCBtYXRjaF9pZCwgdGh1bWJuYWlsX3VybCwgaGlnaGxpZ2h0X3N0YXJ0X3RpbWUsIGR1cmF0aW9uLCBoaWdodFR5cGUiLA0KICAgIH0pOw0KDQogICAgLy9nZXQgbGFzdCA1IG1vc3QgcmVjZW50IGdhbWVzDQogICAgY29uc3QgcmVjZW50R2FtZXMgPSBhd2FpdCBsb2NhbERCDQogICAgICAudGFibGUoIm1hdGNoZXMiKQ0KICAgICAgLm9yZGVyQnkoIm1hdGNoX3N0YXJ0X3RpbWUiKQ0KICAgICAgLnJldmVyc2UoKQ0KICAgICAgLmxpbWl0KDUpDQogICAgICAudG9BcnJheSgpDQogICAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUpKTsNCg0KICAgIC8vZ2V0IGFsbCBvdGhlciBnYW1lcw0KICAgIGNvbnN0IG9sZGVyR2FtZXMgPSBhd2FpdCBsb2NhbERCDQogICAgICAudGFibGUoIm1hdGNoZXMiKQ0KICAgICAgLm9yZGVyQnkoIm1hdGNoX3N0YXJ0X3RpbWUiKQ0KICAgICAgLnJldmVyc2UoKQ0KICAgICAgLm9mZnNldCg1KQ0KICAgICAgLnRvQXJyYXkoKQ0KICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmxvZyhlKSk7DQoNCiAgICAvL2Rpc3BsYXkgcmVzdWx0cw0KICAgIGNvbnNvbGUubG9nKCJhcnJheSBvZiByZWNlbnQgZ2FtZXM6ICIsIHJlY2VudEdhbWVzKTsNCiAgICBjb25zb2xlLmxvZygiYXJyYXkgb2Ygb2xkZXIgZ2FtZXM6ICIsIG9sZGVyR2FtZXMpOw0KDQogICAgLy9sb29wIHRocm91Z2ggbGFzdCA1IGdhbWVzIGFuZCB1c2UgZ2FtZSBpZCdzIHRvIHB1bGwgZGF0YQ0KICAgIC8vQHRzLWlnbm9yZQ0KICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZWNlbnRHYW1lcy5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgIGxldCBtYXRjaF9kYXRlID0gbmV3IERhdGUocmVjZW50R2FtZXNbaW5kZXhdLm1hdGNoX3N0YXJ0X3RpbWUpOw0KDQogICAgICAvL2NyZWF0ZSBuZXcgbWF0Y2gNCiAgICAgIGxldCB0ZW1wRm9sZGVyID0gbmV3IFZpZGVvRm9sZGVyKCk7DQoNCiAgICAgIC8vc2V0IGRhdGUgYW5kIHRpbWUgZnJvbSB0aGUgZGF0YWJhc2UNCiAgICAgIHRlbXBGb2xkZXIuc2V0RGF0ZShtYXRjaF9kYXRlLnRvRGF0ZVN0cmluZygpKTsNCiAgICAgIHRlbXBGb2xkZXIuc2V0VGltZShtYXRjaF9kYXRlLnRvTG9jYWxlVGltZVN0cmluZygpKTsNCg0KICAgICAgLy9nZXQgYWxsIHRoZSB2aWRlb3Mgd2l0aCBtYXRjaGluZyBpZHMNCiAgICAgIGxldCB2aWRlb3NJbk1hdGNoID0gYXdhaXQgbG9jYWxEQg0KICAgICAgICAudGFibGUoInZpZGVvcyIpDQogICAgICAgIC53aGVyZSgibWF0Y2hfaWQiKQ0KICAgICAgICAuZXF1YWxzKHJlY2VudEdhbWVzW2luZGV4XS5tYXRjaF9pZCkNCiAgICAgICAgLnRvQXJyYXkoKQ0KICAgICAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUpKTsNCiAgICAgIGNvbnNvbGUubG9nKCJWaWRlb3MgRm91bmQ6ICIsIHZpZGVvc0luTWF0Y2gpOw0KDQogICAgICAvL0B0cy1pZ25vcmUNCiAgICAgIGZvciAobGV0IHVybHMgPSAwOyB1cmxzIDwgdmlkZW9zSW5NYXRjaC5sZW5ndGg7IHVybHMrKykgew0KICAgICAgICBsZXQgdGVtcFZpZGVvID0gbmV3IFZpZGVvKCk7DQoNCiAgICAgICAgLy8gY29uc29sZS5sb2coImR1cmF0aW9uOiAiLCBuZXcgRGF0ZSAgKHZpZGVvc0luTWF0Y2hbdXJsc10uZHVyYXRpb24pLmdldFNlY29uZHMoKSsicyIpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiaGlnaGxpZ2h0X3N0YXJ0X3RpbWU6ICIsIG5ldyBEYXRlICAodmlkZW9zSW5NYXRjaFt1cmxzXS5oaWdobGlnaHRfc3RhcnRfdGltZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCkpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygiaGlnaHRUeXBlOiAiLCB2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2h0VHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHZpZGVvc0luTWF0Y2hbdXJsc10uaGlnaHRUeXBlLnNsaWNlKDEpKTsgLy9tYWtlIGZpcnN0IGxldHRlciB1cHBlcmNhc2UNCiAgICAgICAgLy8gY29uc29sZS5sb2coIm1lZGlhX3VybDogIiwgdmlkZW9zSW5NYXRjaFt1cmxzXS5tZWRpYV91cmwpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZygidGh1bWJuYWlsX3VybDogIix2aWRlb3NJbk1hdGNoW3VybHNdLnRodW1ibmFpbF91cmwpOyANCiAgICAgICAgaWYoIXNldEZpcnN0VmlkZW8pew0KICAgICAgICAgIHNlbGYuY3VycmVudF9WaWRlbyA9IHZpZGVvc0luTWF0Y2hbdXJsc10ubWVkaWFfdXJsOw0KICAgICAgICAgIHNldEZpcnN0VmlkZW8gPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHRlbXBWaWRlby52aWRlb0FkZHJlc3MgPSB2aWRlb3NJbk1hdGNoW3VybHNdLm1lZGlhX3VybDsNCiAgICAgICAgdGVtcFZpZGVvLnZpZGVvU3RhcnRUaW1lID0gbmV3IERhdGUgICh2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2hsaWdodF9zdGFydF90aW1lKS50b0xvY2FsZVRpbWVTdHJpbmcoKTsNCiAgICAgICAgdGVtcFZpZGVvLmR1cmF0aW9uID0NCiAgICAgICAgICBuZXcgRGF0ZSh2aWRlb3NJbk1hdGNoW3VybHNdLmR1cmF0aW9uKS5nZXRTZWNvbmRzKCkgKyAicyI7DQogICAgICAgIHRlbXBWaWRlby5oaWdobGlnaHRUeXBlID0NCiAgICAgICAgICB2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2h0VHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArDQogICAgICAgICAgdmlkZW9zSW5NYXRjaFt1cmxzXS5oaWdodFR5cGUuc2xpY2UoMSk7IC8vbWFrZSBmaXJzdCBsZXR0ZXIgdXBwZXJjYXNlDQogICAgICAgIHRlbXBWaWRlby50aHVtYm5haWxfdXJsID0gdmlkZW9zSW5NYXRjaFt1cmxzXS50aHVtYm5haWxfdXJsOw0KDQogICAgICAgIHRlbXBGb2xkZXIuYWRkVmlkZW9Ub0ZvbGRlcih0ZW1wVmlkZW8pOw0KICAgICAgfQ0KDQogICAgICBzZWxmLnZpZGVvTGlzdC5wdXNoKHRlbXBGb2xkZXIpOw0KICAgIH0NCg0KDQogICAgLy9hZnRlciB0aGlzIGFsbCB0aGUgZGF0YSBpcyBiZWluZyBkaXNwbGF5ZWQNCiAgICAvL2J1dCBub3cgd2UgbmVlZCB0byBkZWxldGUgdGhlIG9sZGVyIGdhbWVzLCBzbyB0aGV5IGRvbnQgcG9sbHV0ZSB0aGUgZGF0YWJhc2UNCiAgICAvL2xvb3AgdGhyb3VnaCBvbGRlciBnYW1lcyBhbmQgdXNlIGdhbWUgaWQncyB0byBkZWxldGUgZGF0YQ0KICAgIC8vQHRzLWlnbm9yZQ0KICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBvbGRlckdhbWVzLmxlbmd0aDsgaW5kZXgrKykgew0KDQogICAgICAvL2dldCBhbGwgdGhlIHZpZGVvcyB3aXRoIG1hdGNoaW5nIGlkcw0KICAgICAgIGxldCBvbGRlclZpZGVvcyA9IGF3YWl0IGxvY2FsREINCiAgICAgICAgLnRhYmxlKCJ2aWRlb3MiKQ0KICAgICAgICAud2hlcmUoIm1hdGNoX2lkIikNCiAgICAgICAgLmVxdWFscyhvbGRlckdhbWVzW2luZGV4XS5tYXRjaF9pZCkNCiAgICAgICAgLnRvQXJyYXkoKQ0KICAgICAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUpKTsNCiAgICAgIGNvbnNvbGUubG9nKCJPbGRlciBWaWRlb3MgRm91bmQ6ICIsIG9sZGVyVmlkZW9zKTsNCg0KICAgICAgLy9sb29wIHRocm91Z2ggdmlkZW8gYWRyZXNzZXMgaW4gbWF0Y2hlcw0KICAgICAgLy9AdHMtaWdub3JlDQogICAgICBmb3IgKGxldCB1cmxzID0gMDsgdXJscyA8IG9sZGVyVmlkZW9zLmxlbmd0aDsgdXJscysrKSB7DQogICAgICAgIC8vZGVsZXRlIGFjdHVhbCB2aWRlb3MgZnJvbSBsb2NhbCBkaXNrIHVzaW5nIG92ZXJ3b2xmDQogICAgICAgIC8vQHRzLWlnbm9yZQ0KICAgICAgICBvdmVyd29sZi5tZWRpYS52aWRlb3MuZGVsZXRlVmlkZW8ob2xkZXJWaWRlb3NbdXJsc10ubWVkaWFfdXJsKTsNCiAgICAgIH0NCg0KICAgICAgLy90aGVuIHJlbW92ZSB0aGVtIGZyb20gdGhlIHZpZGVvcyBkYXRhYmFzZQ0KICAgICAgbG9jYWxEQg0KICAgICAgICAudGFibGUoInZpZGVvcyIpDQogICAgICAgIC53aGVyZSgibWF0Y2hfaWQiKQ0KICAgICAgICAuZXF1YWxzKHJlY2VudEdhbWVzW2luZGV4XS5tYXRjaF9pZCkuZGVsZXRlKCkudGhlbiggKGRlbGV0ZUNvdW50KSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJEZWxldGVkIG9sZGVyIGhpZ2hsaWdodHMgdmlkZW9zOiAiLCBkZWxldGVDb3VudCk7DQogICAgICB9KS5jYXRjaCggZT0+IGNvbnNvbGUubG9nKGUpKTsNCiAgICB9DQoNCiAgICAvL2dldCBhbGwgb3RoZXIgZ2FtZXMNCiAgICBhd2FpdCBsb2NhbERCDQogICAgICAudGFibGUoIm1hdGNoZXMiKQ0KICAgICAgLm9yZGVyQnkoIm1hdGNoX3N0YXJ0X3RpbWUiKQ0KICAgICAgLnJldmVyc2UoKQ0KICAgICAgLm9mZnNldCg1KS5kZWxldGUoKQ0KICAgICAgLnRoZW4oIChkZWxldGVDb3VudCkgPT4gew0KICAgICAgICBjb25zb2xlLmxvZygiRGVsZXRlZCBvbGQgbWF0Y2ggZGF0YSIsIGRlbGV0ZUNvdW50KQ0KICAgICAgfSkNCiAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coZSkpOw0KDQoNCiAgfQ0KDQogIA0KDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gd2luZG93IHJlc2l6ZQ0KICAgIGxldCBXaW5kb3dJZDsNCiAgICAvL0B0cy1pZ25vcmUNCiAgICBvdmVyd29sZi53aW5kb3dzLmdldEN1cnJlbnRXaW5kb3coZnVuY3Rpb24gKHJlcykgew0KICAgICAgV2luZG93SWQgPSByZXMud2luZG93LmlkOw0KICAgICAgY29uc29sZS5sb2coIldpbmRvdyBpZDogIiwgV2luZG93SWQpOw0KICAgICAgbGV0IHNpemVTZXR0aW5ncyA9IHsNCiAgICAgICAgd2luZG93X2lkOiBXaW5kb3dJZCwNCiAgICAgICAgd2lkdGg6IDE2MDAsDQogICAgICAgIGhlaWdodDogODAwLA0KICAgICAgICBhdXRvX2RwaV9yZXNpemU6IHRydWUsIC8vcmVsZXZhbnQgb25seSBmb3IgbmF0aXZlIHdpbmRvd3MNCiAgICAgIH07DQogICAgICAvL0B0cy1pZ25vcmUNCiAgICAgIG92ZXJ3b2xmLndpbmRvd3MuY2hhbmdlU2l6ZShzaXplU2V0dGluZ3MsIChlKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJjaGFuZ2Ugc2l6ZSBjYWxsYmFjazogIiwgZSk7DQogICAgICB9KTsNCiAgICB9KTsNCiAgfQ0KfQ0K"},{"version":3,"sources":["Highlights.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Highlights.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1 style=\"text-align: center; color: white; padding: 20px\">Highlights</h1>\r\n    <hr />\r\n    <div class=\"highlights-container\">\r\n      <div class=\"highlights-list\">\r\n        <!-- for loop to go through video folders -->\r\n        <div v-for=\"folder in videoList.slice().reverse()\" :key=\"folder.date\">\r\n          <div class=\"folder-tab\">\r\n            <h2>{{ folder.date }}</h2>\r\n            <h3>{{ folder.time }}</h3>\r\n            <!-- for loop to go through videos in the folder -->\r\n            <div v-for=\"video in folder.videoList\" :key=\"video.videoAddress\">\r\n              <div class=\"video-button\" @click=\"setVideo(video.videoAddress)\">\r\n                {{ video.highlightType }}<br>\r\n                {{ video.videoStartTime }}<br>\r\n                {{ video.duration }}<br>\r\n                {{ video.highlight }}<br>\r\n                <img\r\n                  class=\"recent-champs\"\r\n                  :src=\"video.thumbnail_url\"\r\n                  alt=\"champion\"\r\n                  height=\"50\"\r\n                  width=\"50\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>test</div>\r\n      </div>\r\n      <!-- video side -->\r\n      <div class=\"video-side\">\r\n        <!-- used :src to dynamically set video -->\r\n        <video\r\n          height=\"480px\"\r\n          width=\"720px\"\r\n          :src=\"current_Video\"\r\n          controls\r\n          autoplay\r\n        ></video>\r\n\r\n        <div class=\"below-button\">\r\n          <button>Previus</button>\r\n\r\n          <button>Next</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport Dexie from \"dexie\";\r\n\r\n//this class represents a video inside a folder\r\nclass Video {\r\n  public videoAddress: string;\r\n  public videoStartTime: string;\r\n  public duration: string;\r\n  public highlightType: string;\r\n  public thumbnail_url: string;\r\n}\r\n\r\n//this class represents a folder\r\nclass VideoFolder {\r\n  //if we query match id with riot we can probabyly get matchtype and champion used\r\n  public gameType: string; //regular/aram/practice\r\n  public champion: string; //url of champion img\r\n\r\n  //below is received from database\r\n  public date: string;\r\n  public time: string;\r\n  public videoList: Array<Video> = [];\r\n\r\n  setDate(date: string) {\r\n    this.date = date;\r\n  }\r\n\r\n  setTime(time: string) {\r\n    this.time = time;\r\n  }\r\n\r\n  addVideoToFolder(video: Video) {\r\n    this.videoList.push(video);\r\n  }\r\n}\r\n\r\n@Component\r\nexport default class Highlights extends Vue {\r\n  videoList: Array<VideoFolder> = [];\r\n  current_Video = \"\";\r\n\r\n  setVideo(newVideo: string) {\r\n    this.current_Video = newVideo;\r\n  }\r\n\r\n  async mounted() {\r\n    let self = this;\r\n    let setFirstVideo = false;\r\n    //fetch recent videos\r\n\r\n    //open local database\r\n    var localDB = new Dexie(\"highlightsDB\");\r\n    localDB.version(1).stores({\r\n      matches: \"match_id, match_start_time\",\r\n      videos:\r\n        \"media_url, match_id, thumbnail_url, highlight_start_time, duration, hightType\",\r\n    });\r\n\r\n    //get last 5 most recent games\r\n    const recentGames = await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .limit(5)\r\n      .toArray()\r\n      .catch((e) => console.log(e));\r\n\r\n    //get all other games\r\n    const olderGames = await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .offset(5)\r\n      .toArray()\r\n      .catch((e) => console.log(e));\r\n\r\n    //display results\r\n    console.log(\"array of recent games: \", recentGames);\r\n    console.log(\"array of older games: \", olderGames);\r\n\r\n    //loop through last 5 games and use game id's to pull data\r\n    //@ts-ignore\r\n    for (let index = 0; index < recentGames.length; index++) {\r\n      let match_date = new Date(recentGames[index].match_start_time);\r\n\r\n      //create new match\r\n      let tempFolder = new VideoFolder();\r\n\r\n      //set date and time from the database\r\n      tempFolder.setDate(match_date.toDateString());\r\n      tempFolder.setTime(match_date.toLocaleTimeString());\r\n\r\n      //get all the videos with matching ids\r\n      let videosInMatch = await localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(recentGames[index].match_id)\r\n        .toArray()\r\n        .catch((e) => console.log(e));\r\n      console.log(\"Videos Found: \", videosInMatch);\r\n\r\n      //@ts-ignore\r\n      for (let urls = 0; urls < videosInMatch.length; urls++) {\r\n        let tempVideo = new Video();\r\n\r\n        // console.log(\"duration: \", new Date  (videosInMatch[urls].duration).getSeconds()+\"s\");\r\n        // console.log(\"highlight_start_time: \", new Date  (videosInMatch[urls].highlight_start_time).toLocaleTimeString());\r\n        // console.log(\"hightType: \", videosInMatch[urls].hightType.charAt(0).toUpperCase() + videosInMatch[urls].hightType.slice(1)); //make first letter uppercase\r\n        // console.log(\"media_url: \", videosInMatch[urls].media_url);\r\n        // console.log(\"thumbnail_url: \",videosInMatch[urls].thumbnail_url); \r\n        if(!setFirstVideo){\r\n          self.current_Video = videosInMatch[urls].media_url;\r\n          setFirstVideo = true;\r\n        }\r\n        tempVideo.videoAddress = videosInMatch[urls].media_url;\r\n        tempVideo.videoStartTime = new Date  (videosInMatch[urls].highlight_start_time).toLocaleTimeString();\r\n        tempVideo.duration =\r\n          new Date(videosInMatch[urls].duration).getSeconds() + \"s\";\r\n        tempVideo.highlightType =\r\n          videosInMatch[urls].hightType.charAt(0).toUpperCase() +\r\n          videosInMatch[urls].hightType.slice(1); //make first letter uppercase\r\n        tempVideo.thumbnail_url = videosInMatch[urls].thumbnail_url;\r\n\r\n        tempFolder.addVideoToFolder(tempVideo);\r\n      }\r\n\r\n      self.videoList.push(tempFolder);\r\n    }\r\n\r\n\r\n    //after this all the data is being displayed\r\n    //but now we need to delete the older games, so they dont pollute the database\r\n    //loop through older games and use game id's to delete data\r\n    //@ts-ignore\r\n    for (let index = 0; index < olderGames.length; index++) {\r\n\r\n      //get all the videos with matching ids\r\n       let olderVideos = await localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(olderGames[index].match_id)\r\n        .toArray()\r\n        .catch((e) => console.log(e));\r\n      console.log(\"Older Videos Found: \", olderVideos);\r\n\r\n      //loop through video adresses in matches\r\n      //@ts-ignore\r\n      for (let urls = 0; urls < olderVideos.length; urls++) {\r\n        //delete actual videos from local disk using overwolf\r\n        //@ts-ignore\r\n        overwolf.media.videos.deleteVideo(olderVideos[urls].media_url);\r\n      }\r\n\r\n      //then remove them from the videos database\r\n      localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(recentGames[index].match_id).delete().then( (deleteCount) => {\r\n        console.log(\"Deleted older highlights videos: \", deleteCount);\r\n      }).catch( e=> console.log(e));\r\n    }\r\n\r\n    //get all other games\r\n    await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .offset(5).delete()\r\n      .then( (deleteCount) => {\r\n        console.log(\"Deleted old match data\", deleteCount)\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n\r\n  }\r\n\r\n  \r\n\r\n  created() {\r\n    // window resize\r\n    let WindowId;\r\n    //@ts-ignore\r\n    overwolf.windows.getCurrentWindow(function (res) {\r\n      WindowId = res.window.id;\r\n      console.log(\"Window id: \", WindowId);\r\n      let sizeSettings = {\r\n        window_id: WindowId,\r\n        width: 1600,\r\n        height: 800,\r\n        auto_dpi_resize: true, //relevant only for native windows\r\n      };\r\n      //@ts-ignore\r\n      overwolf.windows.changeSize(sizeSettings, (e) => {\r\n        console.log(\"change size callback: \", e);\r\n      });\r\n    });\r\n  }\r\n}\r\n</script>"]}]}