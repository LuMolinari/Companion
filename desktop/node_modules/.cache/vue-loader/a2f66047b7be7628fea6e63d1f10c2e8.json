{"remainingRequest":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Stats.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Stats.vue","mtime":1618444815917},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\babel-loader\\lib\\index.js","mtime":1610329795007},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\ts-loader\\index.js","mtime":1610329799503},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js","mtime":1610329801347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOw0KaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICJheGlvcyI7DQovLyBAdHMtaWdub3JlDQppbXBvcnQgc3BlbGxzIGZyb20gImxvbC1zcGVsbHMiOw0KLy8gQHRzLWlnbm9yZQ0KaW1wb3J0IGNoYW1waW9ucyBmcm9tICJsb2wtY2hhbXBpb25zIjsNCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOw0KaW1wb3J0ICJmaXJlYmFzZS9kYXRhYmFzZSI7DQoNCmNvbnN0IGZpcmViYXNlQ29uZmlnID0gew0KICBhcGlLZXk6ICJBSXphU3lCck1wNjR0dGZHQzJXaUQyOEppSlh0ZlVYZXZGZVNoQ2siLA0KICBhdXRoRG9tYWluOiAidGVzdC01OWRiMy5maXJlYmFzZWFwcC5jb20iLA0KICBkYXRhYmFzZVVSTDogImh0dHBzOi8vdGVzdC01OWRiMy1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20iLA0KICBwcm9qZWN0SWQ6ICJ0ZXN0LTU5ZGIzIiwNCiAgc3RvcmFnZUJ1Y2tldDogInRlc3QtNTlkYjMuYXBwc3BvdC5jb20iLA0KICBtZXNzYWdpbmdTZW5kZXJJZDogIjg5MDUxMzM1NDkwNiIsDQogIGFwcElkOiAiMTo4OTA1MTMzNTQ5MDY6d2ViOmZmMjQ4M2FjMzRiNGY5MWZiNGFmMjMiLA0KICBtZWFzdXJlbWVudElkOiAiRy1GUVNUN1RDWkNSIiwNCn07DQoNCmZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpOw0KDQpjbGFzcyBJdGVtIHsNCiAgaWNvbjogU3RyaW5nOw0KICBuYW1lOiBzdHJpbmc7DQogIGRlc2M6IFN0cmluZzsNCiAgcHJpY2U6IFN0cmluZzsNCn0NCmNsYXNzIENoYW1waW9uIHsNCiAgaWQ6IG51bWJlcjsNCiAgbmFtZTogc3RyaW5nOw0KICB1cmw6IHN0cmluZzsNCg0KICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgdXJsKSB7DQogICAgdGhpcy5pZCA9IGlkOw0KICAgIHRoaXMubmFtZSA9IG5hbWU7DQogICAgdGhpcy51cmwgPSB1cmw7DQogIH0NCn0NCg0KQENvbXBvbmVudA0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHMgZXh0ZW5kcyBWdWUgew0KICBpbmZvQXZhaWxhYmxlID0gdHJ1ZTsNCiAgc3VtbW9uZXJfaW5mbyA9IG51bGw7DQogIHN1bW1vbmVyTmFtZSA9ICJEb3VibGVsaWZ0IjsNCiAgcHJvZmlsZV9pY29uX2lkX3VybCA9DQogICAgImh0dHA6Ly9kZHJhZ29uLmxlYWd1ZW9mbGVnZW5kcy5jb20vY2RuLzExLjIuMS9pbWcvcHJvZmlsZWljb24vMTIucG5nIjsNCiAgc3VtbW9uZXJMZXZlbCA9ICIiOw0KDQogIC8vIHRoZXNlIGFyZSBuZWVkZWQgZm9yIEFQSSBjYWxscyBmb3Igc3RhdHMNCiAgZW5jeXB0ZWRfc3VtbW9uZXJfaWQgPSAiIjsNCiAgZW5jeXB0ZWRfYWNjb3VudF9pZCA9ICIiOw0KDQogIHJlY2VudENoYW1waW9uczogQ2hhbXBpb25bXSA9IG5ldyBBcnJheSgpOw0KDQogIGxhc3RNYXRjaCA9IHsNCiAgICAvL0FSQU0gJiBOb3JtYWxzDQogICAgZ2FtZU1vZGU6ICJBUkFNIiwNCiAgICAvL2dhbWUgc3RhcnRlZCAmIGR1cmF0aW9uDQogICAgZ2FtZUNyZWF0aW9uOiAiIiwNCiAgICBnYW1lRHVyYXRpb246ICIiLA0KICAgIC8vd2luIG9yIGxvc2UNCiAgICB3aW46ICJXaW4iLA0KICAgIC8vQ2hhbXBpb24gVXNlZA0KICAgIGNoYW1waW9uSWQ6IDAsDQogICAgY2hhbXBpb25OYW1lOiAiIiwNCiAgICBjaGFtcEFydFVSTDogIiIsDQoNCiAgICAvL1N0YXJ0ZXIgc3BlbGxzIGxpa2UgRmxhc2ggb3IgSGVhbA0KICAgIC8vdGhlc2UgYXJlIGltZyB1cmxzLCBidXQgaSBjYW4gbG9vayBmb3IgdGhlIG5hbWVzIGlmIHdlIG5lZWQgdGhlbQ0KICAgIHNwZWxsMU5hbWU6ICIiLA0KICAgIHNwZWxsMUljb246ICIiLA0KICAgIHNwZWxsMURlc2NyaXB0aW9uOiAiIiwNCg0KICAgIHNwZWxsMk5hbWU6ICIiLA0KICAgIHNwZWxsMkljb246ICIiLA0KICAgIHNwZWxsMkRlc2NyaXB0aW9uOiAiIiwNCg0KICAgIC8vSXRlbXMgdXNlZCBpbiBtYXRjaA0KICAgIGl0ZW0wOiBuZXcgSXRlbSgpLA0KICAgIGl0ZW0xOiBuZXcgSXRlbSgpLA0KICAgIGl0ZW0yOiBuZXcgSXRlbSgpLA0KICAgIGl0ZW0zOiBuZXcgSXRlbSgpLA0KICAgIGl0ZW00OiBuZXcgSXRlbSgpLA0KICAgIGl0ZW01OiBuZXcgSXRlbSgpLA0KICAgIGl0ZW02OiBuZXcgSXRlbSgpLA0KICAgIC8vS0RBDQogICAga2lsbHM6IDAsDQogICAgZGVhdGhzOiAwLA0KICAgIGFzc2lzdHM6IDAsDQogICAga2RhOiAiLTEuMSIsDQogICAgLy8gbXVsdGlraWxscw0KICAgIGxhcmdlc3RNdWx0aUtpbGw6ICIiLA0KICAgIGNoYW1wTGV2ZWw6IDE1LA0KICAgIC8vbWluaW9uIGtpbGxzICYgY3MNCiAgICB0b3RhbE1pbmlvbnNLaWxsZWQ6IDMxLA0KICAgIC8vb3B0aW9uYWxseSB3ZSBjYW4gYWRkIEtpbGwgcGFydGljaXBhdGlvbi4gY2FsY3VsYXRlZCBieSBraWxscyBwbHVzIGFzc2lzdHMgYW5kIGRpdmlkaW5nIHRoYXQgYnkgdGhlaXIgdGVhbSdzIHRvdGFsIGtpbGxzLg0KICAgIC8vd2UgY2FuIGFsc28gYWRkIGFsbCB0aGUgcGxhbHllcnMgaW4gdGhlIGdhbWUNCiAgICAvL3RoaXMgaXMgd2hhdCBpIG1vZGVsZWQgdGhlIGRhdGEgb2ZmIG9mIGh0dHBzOi8vbmEub3AuZ2cvc3VtbW9uZXIvdXNlck5hbWU9ZG91YmxlbGlmdA0KICB9Ow0KDQogIC8vdGhpcyBvYmplY3Qgd2lsbCBiZSB1c2VkIGZvciBzdGF0cyB0byBkaXNwbGF5DQogIHN0YXRzID0gew0KICAgIHdpbnM6IDAsDQogICAgYXZnX0tpbGxzOiAiIiwNCiAgICBkaWZmX0NoYW1waW9uczogMCwNCiAgICBsb3NzZXM6IDAsDQogICAgYXZnX2Fzc2lzdHM6ICIiLA0KICAgIGRpZmZfUm9sZXM6IDAsDQogICAgd2luX1JhdGU6ICIiLA0KICAgIGF2Z19EZWF0aDogIiIsDQogICAgZGlmZl9RdWV1ZXM6IDAsDQogIH07DQoNCiAgZ2V0IHN1bW1vbmVyRGF0YUF2YWlsYWJsZSgpIHsNCiAgICByZXR1cm4gdGhpcy5pbmZvQXZhaWxhYmxlOw0KICB9DQoNCiAgLy90aGlzIGlzIGZvciB0aGUgdi1mb3IgZm9yIGNoYW1wIGltYWdlcw0KICBnZXRDaGFtcFVSTChjaGFtcDogQ2hhbXBpb24pIHsNCiAgICAvL2NvbnNvbGUubG9nKCJjaGFtcCIsIGNoYW1wKTsNCiAgICByZXR1cm4gY2hhbXAudXJsOw0KICB9DQogIC8vVGhpcyBwYWdlIHdpbGwgdXNlIHRoZSBzYW1lIGxhdW5jaGVyIGluZm8gYXMgYmVmb3JlDQogIC8vVE9ETzogIzkgU2VuZCBVc2VyIGluZm8gYmV0d2VlbiBkZXNrdG9wIGNvbXBvbmVudHMgZnJvbSBob21lIG1lbnUgcmF0aGVyIHRoYW4gdXNlIG92ZXJ3b2xmIGxhdW5jaGVyIEFQSS4gd2lsbCBzcGVlZCB0aGluZ3MgdXANCiAgLy9jb25uZWN0IHRvIG92ZXJ3b2xmIEFQSSB0byBnYWluIHVzZXIgZGF0YQ0KICBhc3luYyBtb3VudGVkKCkgew0KICAgIGxldCBzZWxmID0gdGhpczsNCg0KICAgIC8vaWYgd2UgaGF2ZW50IHByZXNhdmVkIHRoZSBhY2NvdW50SUQgdGhlbiB3ZSBuZWVkIHRvIHNldCBsaXN0ZW5lcnMNCiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbmNyeXB0ZWRBY2NvdW50SUQiKSA9PT0gbnVsbCkgew0KICAgICAgLy9yZWdpc3RlciBldmVudCBsaXN0ZW5lcnMNCiAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRzKCkgew0KICAgICAgICAvLyBnZW5lcmFsIGV2ZW50cyBlcnJvcnMNCiAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICBvdmVyd29sZi5nYW1lcy5ldmVudHMub25FcnJvci5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoaW5mbykgew0KICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcjogIiArIEpTT04uc3RyaW5naWZ5KGluZm8pKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gInN0YXRpYyIgZGF0YSBjaGFuZ2VkDQogICAgICAgIC8vIFRoaXMgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCB0aGUgZmlyc3QgdGltZSB3ZSByZWdpc3Rlcg0KICAgICAgICAvLyBmb3IgZXZlbnRzIGFuZCB3aWxsIGNvbnRhaW4gYWxsIHRoZSBjdXJyZW50IGluZm9ybWF0aW9uDQogICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgb3ZlcndvbGYuZ2FtZXMubGF1bmNoZXJzLmV2ZW50cy5vbkluZm9VcGRhdGVzLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgNCiAgICAgICAgICBpbmZvDQogICAgICAgICkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKCJJbmZvIFVQREFURTogIiArIEpTT04uc3RyaW5naWZ5KGluZm8pKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gYW4gZXZlbnQgdHJpZ2dlcmVkDQogICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgb3ZlcndvbGYuZ2FtZXMubGF1bmNoZXJzLmV2ZW50cy5vbk5ld0V2ZW50cy5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoDQogICAgICAgICAgaW5mbw0KICAgICAgICApIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygiRVZFTlQgRklSRUQ6ICIgKyBKU09OLnN0cmluZ2lmeShpbmZvKSk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICBmdW5jdGlvbiBzZXRGZWF0dXJlcygpIHsNCiAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICBvdmVyd29sZi5nYW1lcy5sYXVuY2hlcnMuZXZlbnRzLnNldFJlcXVpcmVkRmVhdHVyZXMoDQogICAgICAgICAgMTA5MDIsDQogICAgICAgICAgWw0KICAgICAgICAgICAgImdhbWVfZmxvdyIsDQogICAgICAgICAgICAic3VtbW9uZXJfaW5mbyIsDQogICAgICAgICAgICAiY2hhbXBfc2VsZWN0IiwNCiAgICAgICAgICAgICJsY3VfaW5mbyIsDQogICAgICAgICAgICAibG9iYnlfaW5mbyIsDQogICAgICAgICAgICAiZW5kX2dhbWUiLA0KICAgICAgICAgICAgImdhbWVfaW5mbyIsDQogICAgICAgICAgXSwNCiAgICAgICAgICBmdW5jdGlvbiAoaW5mbykgew0KICAgICAgICAgICAgaWYgKGluZm8uc3RhdHVzID09ICJlcnJvciIpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNvdWxkIG5vdCBzZXQgcmVxdWlyZWQgZmVhdHVyZXM6ICIgKyBpbmZvLnJlYXNvbik7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUcnlpbmcgaW4gMiBzZWNvbmRzIik7DQogICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNldEZlYXR1cmVzLCAyMDAwKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBvdmVyd29sZi5nYW1lcy5sYXVuY2hlcnMuZXZlbnRzLmdldEluZm8oDQogICAgICAgICAgICAgIDEwOTAyLA0KICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiAoaW5mbykgew0KICAgICAgICAgICAgICAgIGlmIChpbmZvLnN0YXR1cyA9PT0gInN1Y2Nlc3MiKSB7DQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgICAgICAgICAgICAgIlN1bW1vbmVyIEluZm8iLA0KICAgICAgICAgICAgICAgICAgICBpbmZvLnJlcy5zdW1tb25lcl9pbmZvLmRpc3BsYXlfbmFtZQ0KICAgICAgICAgICAgICAgICAgKTsNCg0KICAgICAgICAgICAgICAgICAgLy9maWxsaW5nIGluIGRhdGEgZnJvbSB3aGF0IHRoZSBsYXVuY2hlciByZWNpZXZlcw0KICAgICAgICAgICAgICAgICAgc2VsZi5zdW1tb25lcl9pbmZvID0gaW5mby5yZXMuc3VtbW9uZXJfaW5mbzsNCg0KICAgICAgICAgICAgICAgICAgc2VsZi5zdW1tb25lck5hbWUgPSBzZWxmLnN1bW1vbmVyX2luZm8uZGlzcGxheV9uYW1lOw0KICAgICAgICAgICAgICAgICAgc2VsZi5wcm9maWxlX2ljb25faWRfdXJsID0NCiAgICAgICAgICAgICAgICAgICAgImh0dHA6Ly9kZHJhZ29uLmxlYWd1ZW9mbGVnZW5kcy5jb20vY2RuLzExLjIuMS9pbWcvcHJvZmlsZWljb24vIiArDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3VtbW9uZXJfaW5mby5wcm9maWxlX2ljb25faWQgKw0KICAgICAgICAgICAgICAgICAgICAiLnBuZyI7DQogICAgICAgICAgICAgICAgICBzZWxmLnN1bW1vbmVyTGV2ZWwgPSBzZWxmLnN1bW1vbmVyX2luZm8uc3VtbW9uZXJfbGV2ZWw7DQoNCiAgICAgICAgICAgICAgICAgIHNlbGYuaW5mb0F2YWlsYWJsZSA9IHRydWU7DQoNCiAgICAgICAgICAgICAgICAgIC8vc2F2ZSB0aGluZ3MgaW4gbG9jYWwgc3RvcmFnZQ0KICAgICAgICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oDQogICAgICAgICAgICAgICAgICAgICJzZXNzaW9uVXNlcm5hbWUiLA0KICAgICAgICAgICAgICAgICAgICBzZWxmLnN1bW1vbmVyTmFtZQ0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAiaWNvblVSTCIsDQogICAgICAgICAgICAgICAgICAgIHNlbGYucHJvZmlsZV9pY29uX2lkX3VybA0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKA0KICAgICAgICAgICAgICAgICAgICAic3VtbW9uZXJMZXZlbCIsDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3VtbW9uZXJMZXZlbA0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgImxvY2FsVXNlcm5hbWUiLA0KICAgICAgICAgICAgICAgICAgICBzZWxmLnN1bW1vbmVyTmFtZQ0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgNCiAgICAgICAgICAgICAgICAgICAgImVuY3J5cHRlZEFjY291bnRJRCIsDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3VtbW9uZXJfaW5mby5hY2NvdW50X2lkDQogICAgICAgICAgICAgICAgICApOw0KDQogICAgICAgICAgICAgICAgICBsZXQgc3VtbW9uZXJJbmZvVVJMID0NCiAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vbmExLmFwaS5yaW90Z2FtZXMuY29tL2xvbC9zdW1tb25lci92NC9zdW1tb25lcnMvYnktbmFtZS8iICsNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdW1tb25lck5hbWUgKw0KICAgICAgICAgICAgICAgICAgICAiP2FwaV9rZXk9UkdBUEktYzI2N2UzZTgtODdjZC00NGZlLTg5YWItYWZhOGY4ZmQxZGM5IjsNCiAgICAgICAgICAgICAgICAgIC8vQUNDT1VOVElEID4+IE1BVENITElTVCA+PiBMQVNUIE1BVENIIERBVEENCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKA0KICAgICAgICAgICAgICAgICAgICAiU3VtbW9uZXJOYW1lIGJlaW5nIHF1ZXJpZWQ6ICIsDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3VtbW9uZXJOYW1lDQogICAgICAgICAgICAgICAgICApOw0KDQogICAgICAgICAgICAgICAgICAvL1VzZSBheGlvcyB0byBjYWxsIEFQSSBhbmQgZ2V0IHN1bW1vbmVyIGluZm8NCiAgICAgICAgICAgICAgICAgIC8vQUNDT1VOVCBJRA0KICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MNCiAgICAgICAgICAgICAgICAgICAgLmdldChzdW1tb25lckluZm9VUkwpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIChzdW1tb25lckluZm8pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAvL1NhdmUgZW5jcnlwdGVkIHN1bW1vbmVyIGRhdGENCiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU3VtbW9uZXIgQVBJIENBTEwgUkVTUE9OQ0U6ICIsIHN1bW1vbmVySW5mbyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVuY3lwdGVkX3N1bW1vbmVyX2lkID0gc3VtbW9uZXJJbmZvLmRhdGEuaWQ7DQogICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbmN5cHRlZF9hY2NvdW50X2lkID0gc3VtbW9uZXJJbmZvLmRhdGEuYWNjb3VudElkOw0KICAgICAgICAgICAgICAgICAgICAgIC8vTUFUQ0hMSVNUDQogICAgICAgICAgICAgICAgICAgICAgLy91c2UgYXhpb3MgdG8gZ2V0IGEgbWF0Y2hsaXN0IGZyb20gUklPVCBBUEkNCiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgICAgICAgICAgICAgICAgICJNYXRjaGxpc3QgcXVlcmllZCB1c2luZyBlbmNyeXB0ZWQgc3VtbW9uZXIgSWQ6ICIsDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVuY3lwdGVkX2FjY291bnRfaWQNCiAgICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEluZm9VUkwgPQ0KICAgICAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vbmExLmFwaS5yaW90Z2FtZXMuY29tL2xvbC9tYXRjaC92NC9tYXRjaGxpc3RzL2J5LWFjY291bnQvIiArDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVuY3lwdGVkX2FjY291bnRfaWQgKw0KICAgICAgICAgICAgICAgICAgICAgICAgIj9hcGlfa2V5PVJHQVBJLWMyNjdlM2U4LTg3Y2QtNDRmZS04OWFiLWFmYThmOGZkMWRjOSI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAvL05lc3RlZCBBeGlvcyBDYWxsIHRvIHJlY2lldmUgZGF0YSBmcm9tIG1vc3QgcmVjZW50IG1hdGNoIGFuZCBlbnRlciBpdCBpbiBsYXN0IG1hdGNoDQogICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MNCiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQobWF0Y2hJbmZvVVJMKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKG1hdGNoTGlzdCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdldFN0YXRzRnJvbU1hdGNobGlzdChtYXRjaExpc3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coIkVycm9yOiAiLCBlKSk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coIkVycm9yOiAiLCBlKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICApOw0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgIH0NCg0KICAgICAgZnVuY3Rpb24gbGF1bmNoZXJSdW5uaW5nKGxhdW5jaGVySW5mbykgew0KICAgICAgICBpZiAoIWxhdW5jaGVySW5mbykgew0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghbGF1bmNoZXJJbmZvLmxhdW5jaGVyc1swXSkgew0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIE5PVEU6IHdlIGRpdmlkZSBieSAxMCB0byBnZXQgdGhlIGxhdW5jaGVyIGNsYXNzIGlkIHdpdGhvdXQgaXQncyBzZXF1ZW5jZSBudW1iZXINCiAgICAgICAgaWYgKE1hdGguZmxvb3IobGF1bmNoZXJJbmZvLmxhdW5jaGVyc1swXS5pZCAvIDEwKSAhPSAxMDkwMikgew0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnNvbGUubG9nKCJMZWFndWUgb2YgTGVnZW5kcyBsYXVuY2hlciBydW5uaW5nIik7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgICAgLy9jcmVhdGUgc3RhcnRpbmcgbGlzdGVuZXJzDQogICAgICAvLyBAdHMtaWdub3JlDQogICAgICBvdmVyd29sZi5nYW1lcy5sYXVuY2hlcnMub25MYXVuY2hlZC5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7DQogICAgICAgIHJlZ2lzdGVyRXZlbnRzKCk7DQogICAgICAgIHNldFRpbWVvdXQoc2V0RmVhdHVyZXMsIDEwMDApOw0KICAgICAgICBjb25zb2xlLmxvZygib25MYXVuY2hlZCBmaXJlZCIpOw0KICAgICAgfSk7DQogICAgICAvLyBAdHMtaWdub3JlDQogICAgICBvdmVyd29sZi5nYW1lcy5sYXVuY2hlcnMuZ2V0UnVubmluZ0xhdW5jaGVyc0luZm8oZnVuY3Rpb24gKHJlcykgew0KICAgICAgICBpZiAobGF1bmNoZXJSdW5uaW5nKHJlcykpIHsNCiAgICAgICAgICByZWdpc3RlckV2ZW50cygpOw0KICAgICAgICAgIHNldFRpbWVvdXQoc2V0RmVhdHVyZXMsIDEwMDApOw0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKCJnZXRSdW5uaW5nTGF1bmNoZXJzSW5mbzogIiArIEpTT04uc3RyaW5naWZ5KHJlcykpOw0KICAgICAgfSk7DQogICAgICAvLyBAdHMtaWdub3JlDQogICAgICBvdmVyd29sZi5nYW1lcy5sYXVuY2hlcnMub25UZXJtaW5hdGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgICAgc2V0VGltZW91dCh3aW5kb3cuY2xvc2UsIDEwMDApOw0KICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgIC8vd2UgYWxyZWFkeSBoYXZlIHRoZSBhY2NvdW50SWQgc2F2ZWQgU28gd2UgZG9uJ3QgbmVlZCB0byBzZXQgbGlzdGVuZXJzDQogICAgICBsZXQgbWF0Y2hJbmZvVVJMID0NCiAgICAgICAgImh0dHBzOi8vbmExLmFwaS5yaW90Z2FtZXMuY29tL2xvbC9tYXRjaC92NC9tYXRjaGxpc3RzL2J5LWFjY291bnQvIiArDQogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW5jcnlwdGVkQWNjb3VudElEIikgKw0KICAgICAgICAiP2FwaV9rZXk9UkdBUEktYzI2N2UzZTgtODdjZC00NGZlLTg5YWItYWZhOGY4ZmQxZGM5IjsNCiAgICAgIHNlbGYuc3VtbW9uZXJOYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2NhbFVzZXJuYW1lIik7DQogICAgICBhd2FpdCBheGlvcw0KICAgICAgICAuZ2V0KG1hdGNoSW5mb1VSTCkNCiAgICAgICAgLnRoZW4oYXN5bmMgKG1hdGNoTGlzdCkgPT4gew0KICAgICAgICAgIHNlbGYuZ2V0U3RhdHNGcm9tTWF0Y2hsaXN0KG1hdGNoTGlzdCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coIkVycm9yOiAiLCBlKSk7DQoNCiAgICAgIHNlbGYucHJvZmlsZV9pY29uX2lkX3VybCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJpY29uVVJMIik7DQogICAgICBzZWxmLmluZm9BdmFpbGFibGUgPSB0cnVlOw0KICAgIH0NCiAgfQ0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIC8vIHdpbmRvdyByZXNpemUNCiAgICBsZXQgV2luZG93SWQ7DQogICAgLy9AdHMtaWdub3JlDQogICAgb3ZlcndvbGYud2luZG93cy5nZXRDdXJyZW50V2luZG93KGZ1bmN0aW9uIChyZXMpIHsNCiAgICAgIFdpbmRvd0lkID0gcmVzLndpbmRvdy5pZDsNCiAgICAgIGxldCBzaXplU2V0dGluZ3MgPSB7DQogICAgICAgIHdpbmRvd19pZDogV2luZG93SWQsDQogICAgICAgIHdpZHRoOiA1MDAsDQogICAgICAgIGhlaWdodDogNjAwLA0KICAgICAgICBhdXRvX2RwaV9yZXNpemU6IHRydWUsIC8vcmVsZXZhbnQgb25seSBmb3IgbmF0aXZlIHdpbmRvd3MNCiAgICAgIH07DQogICAgICAvL0B0cy1pZ25vcmUNCiAgICAgIG92ZXJ3b2xmLndpbmRvd3MuY2hhbmdlU2l6ZShzaXplU2V0dGluZ3MsIGNvbnNvbGUubG9nKTsNCiAgICB9KTsNCiAgfQ0KDQogIGFzeW5jIGdldFN0YXRzRnJvbU1hdGNobGlzdChtYXRjaExpc3Q6IEF4aW9zUmVzcG9uc2U8YW55Pikgew0KICAgIGxldCBzZWxmID0gdGhpczsNCg0KICAgIHZhciBtYXRjaE51bXMgPSAxNTsNCiAgICBpZiAobWF0Y2hMaXN0LmRhdGEudG90YWxHYW1lcyA8IDE1KSB7DQogICAgICBtYXRjaE51bXMgPSBtYXRjaExpc3QuZGF0YS50b3RhbEdhbWVzOw0KICAgIH0NCiAgICB2YXIga2lsbGNvdW50ID0gMDsNCiAgICB2YXIgZGVhdGhjb3VudCA9IDA7DQogICAgdmFyIGFzc2lzdENvdW50ID0gMDsNCg0KICAgIC8vYXJyYXlzIHRvIGNvdW50IHJvbGVzLCBxdWV1ZXMsIGFuZCBjaGFtcGlvbnMNCiAgICB2YXIgcm9sZUNvdW50OiBzdHJpbmdbXSA9IG5ldyBBcnJheSgpOw0KICAgIHZhciBxdWV1ZUNvdW50OiBudW1iZXJbXSA9IG5ldyBBcnJheSgpOw0KICAgIHZhciBjaGFtcElEczogbnVtYmVyW10gPSBuZXcgQXJyYXkoKTsNCg0KICAgIC8vZ28gdGhyb3VnaCAxNSBtYXRjaGVzIHRvIGJ1aWxkIHN0YXRzIHByb2ZpbGUuDQogICAgZm9yIChsZXQgaW1hdGNoID0gMDsgaW1hdGNoIDwgbWF0Y2hOdW1zOyBpbWF0Y2grKykgew0KICAgICAgLy9jb2xsZWN0IGluZGl2aWR1YWwgbWF0Y2ggZGF0YQ0KICAgICAgLy9hZGQgZmlyc3QgbWF0Y2ggZGF0YSBpZiBubyBvdGhlciBtYXRjaGVzIGFkZGVkIHlldA0KICAgICAgLy9hZGRpbmcgcm9sZXMNCiAgICAgIGlmIChyb2xlQ291bnQubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHJvbGVDb3VudC5wdXNoKG1hdGNoTGlzdC5kYXRhLm1hdGNoZXNbaW1hdGNoXS5yb2xlKTsNCiAgICAgICAgY29uc29sZS5sb2coImFkZGluZyBmaXJzdCByb2xlOiAiLCBtYXRjaExpc3QuZGF0YS5tYXRjaGVzW2ltYXRjaF0ucm9sZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoIXJvbGVDb3VudC5pbmNsdWRlcyhtYXRjaExpc3QuZGF0YS5tYXRjaGVzW2ltYXRjaF0ucm9sZSkpIHsNCiAgICAgICAgICByb2xlQ291bnQucHVzaChtYXRjaExpc3QuZGF0YS5tYXRjaGVzW2ltYXRjaF0ucm9sZSk7DQogICAgICAgICAgLy9jb25zb2xlLmxvZygiYWRkaW5nIG5ldyAgcm9sZSIsIG1hdGNoTGlzdC5kYXRhLm1hdGNoZXNbaW1hdGNoXS5yb2xlKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAvL2FkZGluZyBxdWV1ZXMNCiAgICAgIGlmIChxdWV1ZUNvdW50Lmxlbmd0aCA9PT0gMCkgew0KICAgICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgICAiYWRkaW5nIGZpcnN0IHF1ZXVlOiAiLA0KICAgICAgICAgIG1hdGNoTGlzdC5kYXRhLm1hdGNoZXNbaW1hdGNoXS5xdWV1ZQ0KICAgICAgICApOw0KICAgICAgICBxdWV1ZUNvdW50LnB1c2gobWF0Y2hMaXN0LmRhdGEubWF0Y2hlc1tpbWF0Y2hdLnF1ZXVlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICghcXVldWVDb3VudC5pbmNsdWRlcyhtYXRjaExpc3QuZGF0YS5tYXRjaGVzW2ltYXRjaF0ucXVldWUpKSB7DQogICAgICAgICAgcXVldWVDb3VudC5wdXNoKG1hdGNoTGlzdC5kYXRhLm1hdGNoZXNbaW1hdGNoXS5xdWV1ZSk7DQogICAgICAgICAgLy8gY29uc29sZS5sb2coDQogICAgICAgICAgLy8gICAiYWRkaW5nIG5ldyAgcXVldWUiLA0KICAgICAgICAgIC8vICAgbWF0Y2hMaXN0LmRhdGEubWF0Y2hlc1tpbWF0Y2hdLnF1ZXVlDQogICAgICAgICAgLy8gKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAvL2FkZGluZyBjaGFtcCBkYXRhDQogICAgICBpZiAoY2hhbXBJRHMubGVuZ3RoID09PSAwKSB7DQogICAgICAgIGNoYW1wSURzLnB1c2gobWF0Y2hMaXN0LmRhdGEubWF0Y2hlc1tpbWF0Y2hdLmNoYW1waW9uKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICghY2hhbXBJRHMuaW5jbHVkZXMobWF0Y2hMaXN0LmRhdGEubWF0Y2hlc1tpbWF0Y2hdLmNoYW1waW9uKSkgew0KICAgICAgICAgIGNoYW1wSURzLnB1c2gobWF0Y2hMaXN0LmRhdGEubWF0Y2hlc1tpbWF0Y2hdLmNoYW1waW9uKTsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygNCiAgICAgICAgICAvLyAgICJhZGRpbmcgbmV3ICBjaGFtcGlvbiIsDQogICAgICAgICAgLy8gICBtYXRjaExpc3QuZGF0YS5tYXRjaGVzW2ltYXRjaF0uY2hhbXBpb24NCiAgICAgICAgICAvLyApOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKCJBeGlvcyBmb3IgbWF0Y2g6ICIsIGltYXRjaCk7DQogICAgICAvL2NhbGwgQVBJIGZvciBlYWNoIG1hdGNoDQogICAgICBhd2FpdCBheGlvcw0KICAgICAgICAuZ2V0KA0KICAgICAgICAgICJodHRwczovL25hMS5hcGkucmlvdGdhbWVzLmNvbS9sb2wvbWF0Y2gvdjQvbWF0Y2hlcy8iICsNCiAgICAgICAgICAgIG1hdGNoTGlzdC5kYXRhLm1hdGNoZXNbaW1hdGNoXS5nYW1lSWQgKw0KICAgICAgICAgICAgIj9hcGlfa2V5PVJHQVBJLWMyNjdlM2U4LTg3Y2QtNDRmZS04OWFiLWFmYThmOGZkMWRjOSINCiAgICAgICAgKQ0KICAgICAgICAudGhlbihhc3luYyAobW9zdFJlY2VudE1hdGNoKSA9PiB7DQogICAgICAgICAgLy9hc3NpZ25pbmcgbW9zdCByZWNlbnQgbWF0Y2ggZGF0YSB0byBkaXNwbGF5IGJ5IHBhcnNpbmcgdGhlIGpzb24NCg0KICAgICAgICAgIGNvbnNvbGUubG9nKG1vc3RSZWNlbnRNYXRjaC5kYXRhKTsNCiAgICAgICAgICAvL3NldHRpbmcgYmFzaWMgZ2FtZSBkYXRhIGZvciByZWNlbnQgbWF0Y2gNCiAgICAgICAgICAvL2lmIGkgPT09IDAsIHRoZW4gdGhpcyBpcyB0aGUgbW9zdCByZWNlbnQgbWF0Y2ggZGF0YQ0KICAgICAgICAgIGlmIChpbWF0Y2ggPT09IDApIHsNCiAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmdhbWVNb2RlID0gbW9zdFJlY2VudE1hdGNoLmRhdGEuZ2FtZU1vZGU7DQogICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKG1vc3RSZWNlbnRNYXRjaC5kYXRhLmdhbWVDcmVhdGlvbik7DQoNCiAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmdhbWVDcmVhdGlvbiA9DQogICAgICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSArDQogICAgICAgICAgICAgIDEgKw0KICAgICAgICAgICAgICAiIC8gIiArDQogICAgICAgICAgICAgIGRhdGUuZ2V0VVRDRGF0ZSgpICsNCiAgICAgICAgICAgICAgIiAvICIgKw0KICAgICAgICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5nYW1lRHVyYXRpb24gPQ0KICAgICAgICAgICAgICBuZXcgRGF0ZShtb3N0UmVjZW50TWF0Y2guZGF0YS5nYW1lRHVyYXRpb24gKiAxMDAwKQ0KICAgICAgICAgICAgICAgIC5nZXRNaW51dGVzKCkNCiAgICAgICAgICAgICAgICAudG9Mb2NhbGVTdHJpbmcoKSArICIgbWluIjsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAvKlNlYXJjaCB0aHJvdWdoIHBhcnRpY2lwYW50IGlkZW50aXRpZXMgdG8gZmluZCB0aGUgY29ycmVjdCBkYXRhKi8NCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHsNCiAgICAgICAgICAgIC8vaWYgY29ycmVjdCBzdW1tb25lciBpcyBmb3VuZCBmaWxsIGRhdGENCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgc2VsZi5zdW1tb25lck5hbWUgPT09DQogICAgICAgICAgICAgIG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50SWRlbnRpdGllc1tpXS5wbGF5ZXIuc3VtbW9uZXJOYW1lDQogICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgaWYgKG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50c1tpXS5zdGF0cy53aW4gPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBzZWxmLnN0YXRzLndpbnMgPSBzZWxmLnN0YXRzLndpbnMgKyAxOw0KICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIlNlbGYuc3RhdHMud2lucysrIiwgc2VsZi5zdGF0cy53aW5zKTsNCiAgICAgICAgICAgICAgICBpZiAoaW1hdGNoID09PSAwKSB7DQogICAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC53aW4gPSAiVmljdG9yeSI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHNlbGYuc3RhdHMubG9zc2VzID0gc2VsZi5zdGF0cy5sb3NzZXMgKyAxOw0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJTZWxmLnN0YXRzLmxvc3NlcysrIiwgc2VsZi5zdGF0cy5sb3NzZXMpOw0KDQogICAgICAgICAgICAgICAgaWYgKGltYXRjaCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0TWF0Y2gud2luID0gIkRlZmVhdCI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIC8vaWYgbGFzdCBtYXRjaCB0aGVuIHNhdmUgaXQgYXMgaW1hZ2UgdG8gYmUgZGlzcGxheWVkIGF0IHRoZSB0b3ANCiAgICAgICAgICAgICAgaWYgKGltYXRjaCA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmNoYW1waW9uSWQgPQ0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLmNoYW1waW9uSWQ7DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAvL2lmIG1hdGNoIGluZGV4ID09PSAwIHN0b3JlIGl0ZW0gaW5mbyBmcm9tIG1vc3QgcmVjZW50IG1hdGNoDQogICAgICAgICAgICAgIGlmIChpbWF0Y2ggPT09IDApIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiV2UgYXJlIGluIHRoZSBmaXJzdCBtYXRjaCIpOw0KICAgICAgICAgICAgICAgIC8vaXRlbSBpbmZvDQogICAgICAgICAgICAgICAgLy9iYXNlIGl0ZW0gdXJsIGh0dHA6Ly9kZHJhZ29uLmxlYWd1ZW9mbGVnZW5kcy5jb20vY2RuLzExLjIuMS9pbWcvaXRlbS97e0l0ZW1OdW1iZXJ9fS5wbmcNCiAgICAgICAgICAgICAgICBzZWxmLnNldEl0ZW0oDQogICAgICAgICAgICAgICAgICAoc2VsZi5sYXN0TWF0Y2guaXRlbTAgYXMgdW5rbm93bikgYXMgSXRlbSwNCiAgICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50c1tpXS5zdGF0cy5pdGVtMA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgc2VsZi5zZXRJdGVtKA0KICAgICAgICAgICAgICAgICAgKHNlbGYubGFzdE1hdGNoLml0ZW0xIGFzIHVua25vd24pIGFzIEl0ZW0sDQogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMuaXRlbTENCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNlbGYuc2V0SXRlbSgNCiAgICAgICAgICAgICAgICAgIChzZWxmLmxhc3RNYXRjaC5pdGVtMiBhcyB1bmtub3duKSBhcyBJdGVtLA0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLml0ZW0yDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICBzZWxmLnNldEl0ZW0oDQogICAgICAgICAgICAgICAgICAoc2VsZi5sYXN0TWF0Y2guaXRlbTMgYXMgdW5rbm93bikgYXMgSXRlbSwNCiAgICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50c1tpXS5zdGF0cy5pdGVtMw0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgc2VsZi5zZXRJdGVtKA0KICAgICAgICAgICAgICAgICAgKHNlbGYubGFzdE1hdGNoLml0ZW00IGFzIHVua25vd24pIGFzIEl0ZW0sDQogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMuaXRlbTQNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHNlbGYuc2V0SXRlbSgNCiAgICAgICAgICAgICAgICAgIChzZWxmLmxhc3RNYXRjaC5pdGVtNSBhcyB1bmtub3duKSBhcyBJdGVtLA0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLml0ZW01DQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICBzZWxmLnNldEl0ZW0oDQogICAgICAgICAgICAgICAgICAoc2VsZi5sYXN0TWF0Y2guaXRlbTYgYXMgdW5rbm93bikgYXMgSXRlbSwNCiAgICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50c1tpXS5zdGF0cy5pdGVtNg0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAvL0tEQQ0KICAgICAgICAgICAgICBraWxsY291bnQgKz0gbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLmtpbGxzOw0KICAgICAgICAgICAgICBpZiAoaW1hdGNoID09PSAwKSB7DQogICAgICAgICAgICAgICAgc2VsZi5sYXN0TWF0Y2gua2lsbHMgPQ0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLmtpbGxzOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgZGVhdGhjb3VudCArPSBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMuZGVhdGhzOw0KDQogICAgICAgICAgICAgIGlmIChpbWF0Y2ggPT09IDApIHsNCiAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5kZWF0aHMgPQ0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLmRlYXRoczsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGFzc2lzdENvdW50ICs9IG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50c1tpXS5zdGF0cy5hc3Npc3RzOw0KDQogICAgICAgICAgICAgIGlmIChpbWF0Y2ggPT09IDApIHsNCiAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5hc3Npc3RzID0NCiAgICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRNYXRjaC5kYXRhLnBhcnRpY2lwYW50c1tpXS5zdGF0cy5hc3Npc3RzOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgLy9jYWxjdWxhdGUgS2lsbC9kZWF0aCByYXRpbw0KICAgICAgICAgICAgICAvL3RoZXNlIGFyZSBvbmx5IHJlbGV2YW50IHRvIG1vc3QgcmVjZW50IG1hdGNoDQogICAgICAgICAgICAgIGlmIChpbWF0Y2ggPT09IDApIHsNCiAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5rZGEgPSAoDQogICAgICAgICAgICAgICAgICAoc2VsZi5sYXN0TWF0Y2gua2lsbHMgKyBzZWxmLmxhc3RNYXRjaC5hc3Npc3RzKSAvDQogICAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5kZWF0aHMNCiAgICAgICAgICAgICAgICApLnRvRml4ZWQoMik7DQogICAgICAgICAgICAgICAgLy9uZWVkIGFuIGlmIHRvIGdldCB0aGUgcmlnaHQgc3RyaW5nIGhlcmUNCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMNCiAgICAgICAgICAgICAgICAgICAgLmxhcmdlc3RNdWx0aUtpbGwgPT09IDINCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmxhcmdlc3RNdWx0aUtpbGwgPSAiRG91YmxlIEtpbGwiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMNCiAgICAgICAgICAgICAgICAgICAgLmxhcmdlc3RNdWx0aUtpbGwgPT09IDMNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmxhcmdlc3RNdWx0aUtpbGwgPSAiVHJpcGxlIEtpbGwiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMNCiAgICAgICAgICAgICAgICAgICAgLmxhcmdlc3RNdWx0aUtpbGwgPT09IDQNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmxhcmdlc3RNdWx0aUtpbGwgPSAiUXVhZHJhS2lsIjsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzDQogICAgICAgICAgICAgICAgICAgIC5sYXJnZXN0TXVsdGlLaWxsID09PSA1DQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5sYXJnZXN0TXVsdGlLaWxsID0gIlBlbnRhIEtpbGwiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3RhdHMNCiAgICAgICAgICAgICAgICAgICAgLmxhcmdlc3RNdWx0aUtpbGwgPT09IDYNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmxhcmdlc3RNdWx0aUtpbGwgPSAiSGV4YSBLaWxsIjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0TWF0Y2gubGFyZ2VzdE11bHRpS2lsbCA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLmNoYW1wTGV2ZWwgPQ0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLmNoYW1wTGV2ZWw7DQoNCiAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC50b3RhbE1pbmlvbnNLaWxsZWQgPQ0KICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnN0YXRzLnRvdGFsTWluaW9uc0tpbGxlZDsNCg0KICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIHNwZWxscyBieSBzcGVsbCBpZCAtIHVzaW5nIHRoZSBsb2wgc3BlbGxzIHBhY2thZ2UgZm9yIHRoaXMuDQogICAgICAgICAgICAgICAgLy8gc3BlbGwgaW5mbw0KICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9kZHJhZ29uLmxlYWd1ZW9mbGVnZW5kcy5jb20vY2RuLzExLjIuMS9pbWcvc3BlbGwve3tzcGVsbG5hbWV9fS5wbmcNCiAgICAgICAgICAgICAgICBsZXQgc3BlbGwxSWQgPSBtb3N0UmVjZW50TWF0Y2guZGF0YS5wYXJ0aWNpcGFudHNbaV0uc3BlbGwxSWQ7DQogICAgICAgICAgICAgICAgbGV0IHNwZWxsMklkID0gbW9zdFJlY2VudE1hdGNoLmRhdGEucGFydGljaXBhbnRzW2ldLnNwZWxsMklkOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlbGxzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAvL2NoZWNrIGZvciBzcGVsbCAxDQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY29tcGFyaW5nIGFwaSBpZDoiLCBzcGVsbDJJZCk7DQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVG8gc3BlbGxzIGtleTogIiwgc3BlbGxzW2ldLmtleSk7DQogICAgICAgICAgICAgICAgICBpZiAoc3BlbGxzW2ldLmtleSA9PSBTdHJpbmcoc3BlbGwxSWQpKSB7DQogICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLnNwZWxsMUljb24gPSBzcGVsbHNbaV0uaWNvbjsNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0TWF0Y2guc3BlbGwxTmFtZSA9IHNwZWxsc1tpXS5uYW1lOw0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5zcGVsbDFEZXNjcmlwdGlvbiA9IHNwZWxsc1tpXS5kZXNjcmlwdGlvbjsNCiAgICAgICAgICAgICAgICAgIH0gLy9jaGVjayBmb3Igc3BlbGwgMg0KICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3BlbGxzW2ldLmtleSA9PSBTdHJpbmcoc3BlbGwySWQpKSB7DQogICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdE1hdGNoLnNwZWxsMkljb24gPSBzcGVsbHNbaV0uaWNvbjsNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0TWF0Y2guc3BlbGwyTmFtZSA9IHNwZWxsc1tpXS5uYW1lOw0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxhc3RNYXRjaC5zcGVsbDJEZXNjcmlwdGlvbiA9IHNwZWxsc1tpXS5kZXNjcmlwdGlvbjsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQoNCiAgICAgICAgLy9CZWxvdyBpJ20ganVzdCBsb2dnaW5nIGFueSBlcnJvcnMgZnJvbSB0aGlzIGF4aW9zIGNhbGxzDQogICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coIkVycm9yOiAiLCBlKSk7DQogICAgfQ0KDQogICAgY29uc29sZS5sb2coIkFzeW5jIHRocmVhZCBjb21wbGV0ZSAhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISIpOw0KDQogICAgLy91c2luZyBjaGFtcGlvbiBpZCdzIHRvIGVudGVyIGRhdGEgZm9yIGFycmF5IG9mIGltYWdlcw0KICAgIC8vZ2V0IG1vc3QgcmVjZW50IG1hdGNoIGRhdGENCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW1waW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgaWYgKGNoYW1waW9uc1tpXS5rZXkgPT09IFN0cmluZyhjaGFtcElEc1swXSkpIHsNCiAgICAgICAgKHNlbGYubGFzdE1hdGNoLmNoYW1waW9uSWQgPSBjaGFtcGlvbnNbaV0ua2V5KSwNCiAgICAgICAgICAoc2VsZi5sYXN0TWF0Y2guY2hhbXBpb25OYW1lID0gY2hhbXBpb25zW2ldLm5hbWUpOw0KICAgICAgICBzZWxmLmxhc3RNYXRjaC5jaGFtcEFydFVSTCA9IGNoYW1waW9uc1tpXS5pY29uOw0KDQogICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGNoYW1wSURzLmZvckVhY2goKGlkKSA9PiB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW1waW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAvL2lmIGlkIGFuZCBrZXkgbWF0Y2hlcyB0aGVuIGluaXRpYWxpemUgZGF0YSBhbmQgZW5kIGxvb3ANCg0KICAgICAgICBpZiAoY2hhbXBpb25zW2ldLmtleSA9PT0gU3RyaW5nKGlkKSkgew0KICAgICAgICAgIHNlbGYucmVjZW50Q2hhbXBpb25zLnB1c2goDQogICAgICAgICAgICBuZXcgQ2hhbXBpb24oY2hhbXBpb25zW2ldLmtleSwgY2hhbXBpb25zW2ldLm5hbWUsIGNoYW1waW9uc1tpXS5pY29uKQ0KICAgICAgICAgICk7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCg0KICAgIC8vYWZ0ZXIgdGhlIGZvciBsb29wIHRocm91Z2ggbWF0Y2ggbGlzdA0KICAgIC8vY2FsY3VsYXRlIGF2ZXJhZ2VzDQogICAgc2VsZi5zdGF0cy5hdmdfS2lsbHMgPSAoa2lsbGNvdW50IC8gbWF0Y2hOdW1zKS50b0ZpeGVkKDIpOw0KICAgIHNlbGYuc3RhdHMuYXZnX0RlYXRoID0gKGRlYXRoY291bnQgLyBtYXRjaE51bXMpLnRvRml4ZWQoMik7DQogICAgc2VsZi5zdGF0cy5hdmdfYXNzaXN0cyA9IChhc3Npc3RDb3VudCAvIG1hdGNoTnVtcykudG9GaXhlZCgyKTsNCiAgICBzZWxmLnN0YXRzLmRpZmZfUm9sZXMgPSByb2xlQ291bnQubGVuZ3RoOw0KICAgIHNlbGYuc3RhdHMuZGlmZl9RdWV1ZXMgPSBxdWV1ZUNvdW50Lmxlbmd0aDsNCiAgICBzZWxmLnN0YXRzLmRpZmZfQ2hhbXBpb25zID0gY2hhbXBJRHMubGVuZ3RoOw0KICAgIHNlbGYuc3RhdHMud2luX1JhdGUgPQ0KICAgICAgKChzZWxmLnN0YXRzLndpbnMgLyBtYXRjaE51bXMpICogMTAwKS50b0ZpeGVkKDApICsgIiUiOw0KICB9DQoNCiAgc2V0SXRlbSh0aGlzSXRlbTogSXRlbSwgYXJyYXlJdGVtOiBhbnkpIHsNCiAgICAvL2NhbGwgdG8gZmlyZWJhc2UgdG8gZ2V0IGl0ZW0gaW5mbw0KICAgIHZhciBjaGVja2RhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIml0ZW1zLyIgKyBTdHJpbmcoYXJyYXlJdGVtKSk7DQogICAgY2hlY2tkYXRhYmFzZS5vbigidmFsdWUiLCAoc25hcHNob3QpID0+IHsNCiAgICAgIGlmIChzbmFwc2hvdC52YWwoKSAhPSBudWxsKSB7DQogICAgICAgIC8vY2hlY2sgaWYga2V5c3RvbmUgcnVuZQ0KICAgICAgICB0aGlzSXRlbS5pY29uID0gc25hcHNob3QudmFsKCkuaWNvbjsNCiAgICAgICAgdGhpc0l0ZW0ubmFtZSA9IHNuYXBzaG90LnZhbCgpLm5hbWU7DQogICAgICAgIHRoaXNJdGVtLmRlc2MgPSBzbmFwc2hvdC52YWwoKS5kZXNjcmlwdGlvbjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXNJdGVtLmljb24gPSBudWxsOw0KICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy9pZiBpdGVtIHdhcyBuZXZlciBmb3VuZCB0aGVuIGluaXRpbGFpemUgdG8gbnVsbA0KICB9DQoNCiAgLy8gQ2hlY2sgaWYgdGhlIGl0ZW1zIGV4aXN0IGJlZm9yZSByZW5kZXJpbmcgdGhlbQ0KDQogIGl0ZW1FeGlzdHMoaXRlbTogSXRlbSkgew0KICAgIGlmIChpdGVtLmljb24gPT0gbnVsbCkgew0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Stats.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stats.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"home-container\">\r\n    <div v-if=\"summonerDataAvailable\">\r\n      <!-- Info that is displayed from data pullled from launcher\r\n       img src is being dynamically set-->\r\n      <div class=\"mini-summoner-label\">\r\n        <img\r\n          alt=\"Profile Icon\"\r\n          class=\"mini_league_profile\"\r\n          :srcset=\"profile_icon_id_url\"\r\n        />\r\n        <h1>{{ summonerName }}</h1>\r\n      </div>\r\n\r\n      <div class=\"last-game-stats\">\r\n        <div class=\"last-game-col1\">\r\n          <q>{{ lastMatch.gameMode }}</q>\r\n          {{ lastMatch.gameCreation }} <br />\r\n          {{ lastMatch.win }} <br />\r\n          {{ lastMatch.gameDuration }} <br />\r\n        </div>\r\n        <div class=\"last-game-col1\">\r\n          <div class=\"row\">\r\n            <img\r\n              alt=\"Champion Icon\"\r\n              class=\"minier_league_profile\"\r\n              :srcset=\"lastMatch.champArtURL\"\r\n            />\r\n            <div class=\"col\">\r\n              <img\r\n                alt=\"Spell 1\"\r\n                class=\"miniest_league_profile\"\r\n                :srcset=\"lastMatch.spell1Icon\"\r\n                v-tooltip=\"\r\n                  lastMatch.spell1Name + ' <br/> ' + lastMatch.spell1Description\r\n                \"\r\n              />\r\n              <img\r\n                alt=\"Spell 2\"\r\n                class=\"miniest_league_profile\"\r\n                :srcset=\"lastMatch.spell2Icon\"\r\n                v-tooltip=\"\r\n                  lastMatch.spell2Name + ' <br/> ' + lastMatch.spell2Description\r\n                \"\r\n              />\r\n            </div>\r\n          </div>\r\n          {{ lastMatch.championName }} <br />\r\n        </div>\r\n\r\n        <!-- KDA Column -->\r\n        <div class=\"last-game-col1\">\r\n          {{ lastMatch.kills }} / {{ lastMatch.deaths }} /\r\n          {{ lastMatch.assists }} <br />\r\n          {{ lastMatch.kda }} : 1 KDA <br />\r\n          {{ lastMatch.largestMultiKill }}\r\n        </div>\r\n\r\n        <!-- Item images -->\r\n        <div class=\"wrap-col\">\r\n          <div v-if=\"itemExists(lastMatch.item0)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item0.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item0.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item0.desc\r\n              \"\r\n            />\r\n          </div>\r\n          <div v-if=\"itemExists(lastMatch.item1)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item1.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item1.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item1.desc\r\n              \"\r\n            />\r\n          </div>\r\n          <div v-if=\"itemExists(lastMatch.item2)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item2.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item2.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item2.desc\r\n              \"\r\n            />\r\n          </div>\r\n          <div v-if=\"itemExists(lastMatch.item3)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item3.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item3.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item3.desc\r\n              \"\r\n            />\r\n          </div>\r\n          <div v-if=\"itemExists(lastMatch.item4)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item4.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item4.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item4.desc\r\n              \"\r\n            />\r\n          </div>\r\n          <div v-if=\"itemExists(lastMatch.item5)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item5.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item5.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item5.desc\r\n              \"\r\n            />\r\n          </div>\r\n          <div v-if=\"itemExists(lastMatch.item6)\">\r\n            <img\r\n              alt=\"Item\"\r\n              class=\"miniest_league_profile\"\r\n              :srcset=\"lastMatch.item6.icon\"\r\n              v-tooltip=\"\r\n                '<b>' +\r\n                lastMatch.item6.name +\r\n                '</b>' +\r\n                ':  <br/> ' +\r\n                lastMatch.item6.desc\r\n              \"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"last-game-col1\">\r\n          Lvl: {{ lastMatch.champLevel }} <br />\r\n          {{ lastMatch.totalMinionsKilled }} cs<br />\r\n        </div>\r\n      </div>\r\n      <div class=\"stats-overall\">\r\n        <u class=\"little-bigger\">Last 15 games Statistics</u>\r\n        <br />\r\n        <div class=\"grid-container\">\r\n          <div class=\"grid-item\">{{ stats.wins }} Wins</div>\r\n          <div class=\"grid-item\">{{ stats.losses }} Losses</div>\r\n          <div class=\"grid-item\">{{ stats.win_Rate }} Win Rate</div>\r\n          <div class=\"grid-item\">{{ stats.avg_Kills }} AVG Kills</div>\r\n          <div class=\"grid-item\">{{ stats.avg_Death }} Avg Death</div>\r\n          <div class=\"grid-item\">{{ stats.avg_assists }} Avg assists</div>\r\n          <div class=\"grid-item\">{{ stats.diff_Champions }} Diff Champions</div>\r\n          <div class=\"grid-item\">{{ stats.diff_Roles }} Diff Roles</div>\r\n          <div class=\"grid-item\">{{ stats.diff_Queues }} Diff Queues</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"stats-overall\">\r\n        <u class=\"little-bigger\">Recent Champions</u><br />\r\n        <div class=\"wrap\">\r\n          <div v-for=\"champion in recentChampions\" :key=\"champion.id\">\r\n            <div class=\"col-recent-champ\">\r\n              <img\r\n                class=\"recent-champs\"\r\n                :srcset=\"getChampURL(champion)\"\r\n                alt=\"champion\"\r\n                height=\"50\"\r\n                width=\"50\"\r\n              />\r\n              {{ champion.name }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else>\r\n      <h1\r\n        style=\"text-align: center; color: white; padding: 20px; font-size 1.5em;\"\r\n      >\r\n        Stats\r\n      </h1>\r\n      <hr />\r\n      <img\r\n        alt=\"League Companion\"\r\n        class=\"logo\"\r\n        height=\"300\"\r\n        width=\"300\"\r\n        src=\"https://img.icons8.com/bubbles/500/000000/question-mark.png\"\r\n      />\r\n      <p>Launch your League Client to fetch your stats</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport axios, { AxiosResponse } from \"axios\";\r\n// @ts-ignore\r\nimport spells from \"lol-spells\";\r\n// @ts-ignore\r\nimport champions from \"lol-champions\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBrMp64ttfGC2WiD28JiJXtfUXevFeShCk\",\r\n  authDomain: \"test-59db3.firebaseapp.com\",\r\n  databaseURL: \"https://test-59db3-default-rtdb.firebaseio.com\",\r\n  projectId: \"test-59db3\",\r\n  storageBucket: \"test-59db3.appspot.com\",\r\n  messagingSenderId: \"890513354906\",\r\n  appId: \"1:890513354906:web:ff2483ac34b4f91fb4af23\",\r\n  measurementId: \"G-FQST7TCZCR\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nclass Item {\r\n  icon: String;\r\n  name: string;\r\n  desc: String;\r\n  price: String;\r\n}\r\nclass Champion {\r\n  id: number;\r\n  name: string;\r\n  url: string;\r\n\r\n  constructor(id, name, url) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.url = url;\r\n  }\r\n}\r\n\r\n@Component\r\nexport default class Stats extends Vue {\r\n  infoAvailable = true;\r\n  summoner_info = null;\r\n  summonerName = \"Doublelift\";\r\n  profile_icon_id_url =\r\n    \"http://ddragon.leagueoflegends.com/cdn/11.2.1/img/profileicon/12.png\";\r\n  summonerLevel = \"\";\r\n\r\n  // these are needed for API calls for stats\r\n  encypted_summoner_id = \"\";\r\n  encypted_account_id = \"\";\r\n\r\n  recentChampions: Champion[] = new Array();\r\n\r\n  lastMatch = {\r\n    //ARAM & Normals\r\n    gameMode: \"ARAM\",\r\n    //game started & duration\r\n    gameCreation: \"\",\r\n    gameDuration: \"\",\r\n    //win or lose\r\n    win: \"Win\",\r\n    //Champion Used\r\n    championId: 0,\r\n    championName: \"\",\r\n    champArtURL: \"\",\r\n\r\n    //Starter spells like Flash or Heal\r\n    //these are img urls, but i can look for the names if we need them\r\n    spell1Name: \"\",\r\n    spell1Icon: \"\",\r\n    spell1Description: \"\",\r\n\r\n    spell2Name: \"\",\r\n    spell2Icon: \"\",\r\n    spell2Description: \"\",\r\n\r\n    //Items used in match\r\n    item0: new Item(),\r\n    item1: new Item(),\r\n    item2: new Item(),\r\n    item3: new Item(),\r\n    item4: new Item(),\r\n    item5: new Item(),\r\n    item6: new Item(),\r\n    //KDA\r\n    kills: 0,\r\n    deaths: 0,\r\n    assists: 0,\r\n    kda: \"-1.1\",\r\n    // multikills\r\n    largestMultiKill: \"\",\r\n    champLevel: 15,\r\n    //minion kills & cs\r\n    totalMinionsKilled: 31,\r\n    //optionally we can add Kill participation. calculated by kills plus assists and dividing that by their team's total kills.\r\n    //we can also add all the plalyers in the game\r\n    //this is what i modeled the data off of https://na.op.gg/summoner/userName=doublelift\r\n  };\r\n\r\n  //this object will be used for stats to display\r\n  stats = {\r\n    wins: 0,\r\n    avg_Kills: \"\",\r\n    diff_Champions: 0,\r\n    losses: 0,\r\n    avg_assists: \"\",\r\n    diff_Roles: 0,\r\n    win_Rate: \"\",\r\n    avg_Death: \"\",\r\n    diff_Queues: 0,\r\n  };\r\n\r\n  get summonerDataAvailable() {\r\n    return this.infoAvailable;\r\n  }\r\n\r\n  //this is for the v-for for champ images\r\n  getChampURL(champ: Champion) {\r\n    //console.log(\"champ\", champ);\r\n    return champ.url;\r\n  }\r\n  //This page will use the same launcher info as before\r\n  //TODO: #9 Send User info between desktop components from home menu rather than use overwolf launcher API. will speed things up\r\n  //connect to overwolf API to gain user data\r\n  async mounted() {\r\n    let self = this;\r\n\r\n    //if we havent presaved the accountID then we need to set listeners\r\n    if (window.localStorage.getItem(\"encryptedAccountID\") === null) {\r\n      //register event listeners\r\n      function registerEvents() {\r\n        // general events errors\r\n        // @ts-ignore\r\n        overwolf.games.events.onError.addListener(function (info) {\r\n          console.log(\"Error: \" + JSON.stringify(info));\r\n        });\r\n\r\n        // \"static\" data changed\r\n        // This will also be triggered the first time we register\r\n        // for events and will contain all the current information\r\n        // @ts-ignore\r\n        overwolf.games.launchers.events.onInfoUpdates.addListener(function (\r\n          info\r\n        ) {\r\n          console.log(\"Info UPDATE: \" + JSON.stringify(info));\r\n        });\r\n\r\n        // an event triggered\r\n        // @ts-ignore\r\n        overwolf.games.launchers.events.onNewEvents.addListener(function (\r\n          info\r\n        ) {\r\n          console.log(\"EVENT FIRED: \" + JSON.stringify(info));\r\n        });\r\n      }\r\n\r\n      function setFeatures() {\r\n        // @ts-ignore\r\n        overwolf.games.launchers.events.setRequiredFeatures(\r\n          10902,\r\n          [\r\n            \"game_flow\",\r\n            \"summoner_info\",\r\n            \"champ_select\",\r\n            \"lcu_info\",\r\n            \"lobby_info\",\r\n            \"end_game\",\r\n            \"game_info\",\r\n          ],\r\n          function (info) {\r\n            if (info.status == \"error\") {\r\n              console.log(\"Could not set required features: \" + info.reason);\r\n              console.log(\"Trying in 2 seconds\");\r\n              window.setTimeout(setFeatures, 2000);\r\n              return;\r\n            }\r\n\r\n            // @ts-ignore\r\n            overwolf.games.launchers.events.getInfo(\r\n              10902,\r\n              async function (info) {\r\n                if (info.status === \"success\") {\r\n                  console.log(\r\n                    \"Summoner Info\",\r\n                    info.res.summoner_info.display_name\r\n                  );\r\n\r\n                  //filling in data from what the launcher recieves\r\n                  self.summoner_info = info.res.summoner_info;\r\n\r\n                  self.summonerName = self.summoner_info.display_name;\r\n                  self.profile_icon_id_url =\r\n                    \"http://ddragon.leagueoflegends.com/cdn/11.2.1/img/profileicon/\" +\r\n                    self.summoner_info.profile_icon_id +\r\n                    \".png\";\r\n                  self.summonerLevel = self.summoner_info.summoner_level;\r\n\r\n                  self.infoAvailable = true;\r\n\r\n                  //save things in local storage\r\n                  window.sessionStorage.setItem(\r\n                    \"sessionUsername\",\r\n                    self.summonerName\r\n                  );\r\n                  window.sessionStorage.setItem(\r\n                    \"iconURL\",\r\n                    self.profile_icon_id_url\r\n                  );\r\n                  window.sessionStorage.setItem(\r\n                    \"summonerLevel\",\r\n                    self.summonerLevel\r\n                  );\r\n                  window.localStorage.setItem(\r\n                    \"localUsername\",\r\n                    self.summonerName\r\n                  );\r\n                  window.localStorage.setItem(\r\n                    \"encryptedAccountID\",\r\n                    self.summoner_info.account_id\r\n                  );\r\n\r\n                  let summonerInfoURL =\r\n                    \"https://na1.api.riotgames.com/lol/summoner/v4/summoners/by-name/\" +\r\n                    self.summonerName +\r\n                    \"?api_key=RGAPI-c267e3e8-87cd-44fe-89ab-afa8f8fd1dc9\";\r\n                  //ACCOUNTID >> MATCHLIST >> LAST MATCH DATA\r\n                  console.log(\r\n                    \"SummonerName being queried: \",\r\n                    self.summonerName\r\n                  );\r\n\r\n                  //Use axios to call API and get summoner info\r\n                  //ACCOUNT ID\r\n                  await axios\r\n                    .get(summonerInfoURL)\r\n                    .then(async (summonerInfo) => {\r\n                      //Save encrypted summoner data\r\n                      console.log(\"Summoner API CALL RESPONCE: \", summonerInfo);\r\n\r\n                      self.encypted_summoner_id = summonerInfo.data.id;\r\n                      self.encypted_account_id = summonerInfo.data.accountId;\r\n                      //MATCHLIST\r\n                      //use axios to get a matchlist from RIOT API\r\n                      console.log(\r\n                        \"Matchlist queried using encrypted summoner Id: \",\r\n                        self.encypted_account_id\r\n                      );\r\n                      let matchInfoURL =\r\n                        \"https://na1.api.riotgames.com/lol/match/v4/matchlists/by-account/\" +\r\n                        self.encypted_account_id +\r\n                        \"?api_key=RGAPI-c267e3e8-87cd-44fe-89ab-afa8f8fd1dc9\";\r\n\r\n                      //Nested Axios Call to recieve data from most recent match and enter it in last match\r\n                      await axios\r\n                        .get(matchInfoURL)\r\n                        .then(async (matchList) => {\r\n                          self.getStatsFromMatchlist(matchList);\r\n                        })\r\n                        .catch((e) => console.log(\"Error: \", e));\r\n                    })\r\n                    .catch((e) => console.log(\"Error: \", e));\r\n                }\r\n              }\r\n            );\r\n          }\r\n        );\r\n      }\r\n\r\n      function launcherRunning(launcherInfo) {\r\n        if (!launcherInfo) {\r\n          return false;\r\n        }\r\n\r\n        if (!launcherInfo.launchers[0]) {\r\n          return false;\r\n        }\r\n\r\n        // NOTE: we divide by 10 to get the launcher class id without it's sequence number\r\n        if (Math.floor(launcherInfo.launchers[0].id / 10) != 10902) {\r\n          return false;\r\n        }\r\n\r\n        console.log(\"League of Legends launcher running\");\r\n        return true;\r\n      }\r\n      //create starting listeners\r\n      // @ts-ignore\r\n      overwolf.games.launchers.onLaunched.addListener(function () {\r\n        registerEvents();\r\n        setTimeout(setFeatures, 1000);\r\n        console.log(\"onLaunched fired\");\r\n      });\r\n      // @ts-ignore\r\n      overwolf.games.launchers.getRunningLaunchersInfo(function (res) {\r\n        if (launcherRunning(res)) {\r\n          registerEvents();\r\n          setTimeout(setFeatures, 1000);\r\n        }\r\n        console.log(\"getRunningLaunchersInfo: \" + JSON.stringify(res));\r\n      });\r\n      // @ts-ignore\r\n      overwolf.games.launchers.onTerminated.addListener(function (res) {\r\n        setTimeout(window.close, 1000);\r\n      });\r\n    } else {\r\n      //we already have the accountId saved So we don't need to set listeners\r\n      let matchInfoURL =\r\n        \"https://na1.api.riotgames.com/lol/match/v4/matchlists/by-account/\" +\r\n        window.localStorage.getItem(\"encryptedAccountID\") +\r\n        \"?api_key=RGAPI-c267e3e8-87cd-44fe-89ab-afa8f8fd1dc9\";\r\n      self.summonerName = window.localStorage.getItem(\"localUsername\");\r\n      await axios\r\n        .get(matchInfoURL)\r\n        .then(async (matchList) => {\r\n          self.getStatsFromMatchlist(matchList);\r\n        })\r\n        .catch((e) => console.log(\"Error: \", e));\r\n\r\n      self.profile_icon_id_url = window.sessionStorage.getItem(\"iconURL\");\r\n      self.infoAvailable = true;\r\n    }\r\n  }\r\n  async created() {\r\n    // window resize\r\n    let WindowId;\r\n    //@ts-ignore\r\n    overwolf.windows.getCurrentWindow(function (res) {\r\n      WindowId = res.window.id;\r\n      let sizeSettings = {\r\n        window_id: WindowId,\r\n        width: 500,\r\n        height: 600,\r\n        auto_dpi_resize: true, //relevant only for native windows\r\n      };\r\n      //@ts-ignore\r\n      overwolf.windows.changeSize(sizeSettings, console.log);\r\n    });\r\n  }\r\n\r\n  async getStatsFromMatchlist(matchList: AxiosResponse<any>) {\r\n    let self = this;\r\n\r\n    var matchNums = 15;\r\n    if (matchList.data.totalGames < 15) {\r\n      matchNums = matchList.data.totalGames;\r\n    }\r\n    var killcount = 0;\r\n    var deathcount = 0;\r\n    var assistCount = 0;\r\n\r\n    //arrays to count roles, queues, and champions\r\n    var roleCount: string[] = new Array();\r\n    var queueCount: number[] = new Array();\r\n    var champIDs: number[] = new Array();\r\n\r\n    //go through 15 matches to build stats profile.\r\n    for (let imatch = 0; imatch < matchNums; imatch++) {\r\n      //collect individual match data\r\n      //add first match data if no other matches added yet\r\n      //adding roles\r\n      if (roleCount.length === 0) {\r\n        roleCount.push(matchList.data.matches[imatch].role);\r\n        console.log(\"adding first role: \", matchList.data.matches[imatch].role);\r\n      } else {\r\n        if (!roleCount.includes(matchList.data.matches[imatch].role)) {\r\n          roleCount.push(matchList.data.matches[imatch].role);\r\n          //console.log(\"adding new  role\", matchList.data.matches[imatch].role);\r\n        }\r\n      }\r\n\r\n      //adding queues\r\n      if (queueCount.length === 0) {\r\n        console.log(\r\n          \"adding first queue: \",\r\n          matchList.data.matches[imatch].queue\r\n        );\r\n        queueCount.push(matchList.data.matches[imatch].queue);\r\n      } else {\r\n        if (!queueCount.includes(matchList.data.matches[imatch].queue)) {\r\n          queueCount.push(matchList.data.matches[imatch].queue);\r\n          // console.log(\r\n          //   \"adding new  queue\",\r\n          //   matchList.data.matches[imatch].queue\r\n          // );\r\n        }\r\n      }\r\n\r\n      //adding champ data\r\n      if (champIDs.length === 0) {\r\n        champIDs.push(matchList.data.matches[imatch].champion);\r\n      } else {\r\n        if (!champIDs.includes(matchList.data.matches[imatch].champion)) {\r\n          champIDs.push(matchList.data.matches[imatch].champion);\r\n          // console.log(\r\n          //   \"adding new  champion\",\r\n          //   matchList.data.matches[imatch].champion\r\n          // );\r\n        }\r\n      }\r\n\r\n      // console.log(\"Axios for match: \", imatch);\r\n      //call API for each match\r\n      await axios\r\n        .get(\r\n          \"https://na1.api.riotgames.com/lol/match/v4/matches/\" +\r\n            matchList.data.matches[imatch].gameId +\r\n            \"?api_key=RGAPI-c267e3e8-87cd-44fe-89ab-afa8f8fd1dc9\"\r\n        )\r\n        .then(async (mostRecentMatch) => {\r\n          //assigning most recent match data to display by parsing the json\r\n\r\n          console.log(mostRecentMatch.data);\r\n          //setting basic game data for recent match\r\n          //if i === 0, then this is the most recent match data\r\n          if (imatch === 0) {\r\n            self.lastMatch.gameMode = mostRecentMatch.data.gameMode;\r\n            let date = new Date(mostRecentMatch.data.gameCreation);\r\n\r\n            self.lastMatch.gameCreation =\r\n              date.getMonth() +\r\n              1 +\r\n              \" / \" +\r\n              date.getUTCDate() +\r\n              \" / \" +\r\n              date.getFullYear();\r\n            self.lastMatch.gameDuration =\r\n              new Date(mostRecentMatch.data.gameDuration * 1000)\r\n                .getMinutes()\r\n                .toLocaleString() + \" min\";\r\n          }\r\n\r\n          /*Search through participant identities to find the correct data*/\r\n          for (let i = 0; i < 10; i++) {\r\n            //if correct summoner is found fill data\r\n            if (\r\n              self.summonerName ===\r\n              mostRecentMatch.data.participantIdentities[i].player.summonerName\r\n            ) {\r\n              if (mostRecentMatch.data.participants[i].stats.win === true) {\r\n                self.stats.wins = self.stats.wins + 1;\r\n                //console.log(\"Self.stats.wins++\", self.stats.wins);\r\n                if (imatch === 0) {\r\n                  self.lastMatch.win = \"Victory\";\r\n                }\r\n              } else {\r\n                self.stats.losses = self.stats.losses + 1;\r\n                // console.log(\"Self.stats.losses++\", self.stats.losses);\r\n\r\n                if (imatch === 0) {\r\n                  self.lastMatch.win = \"Defeat\";\r\n                }\r\n              }\r\n              //if last match then save it as image to be displayed at the top\r\n              if (imatch === 0) {\r\n                self.lastMatch.championId =\r\n                  mostRecentMatch.data.participants[i].championId;\r\n              }\r\n\r\n              //if match index === 0 store item info from most recent match\r\n              if (imatch === 0) {\r\n                console.log(\"We are in the first match\");\r\n                //item info\r\n                //base item url http://ddragon.leagueoflegends.com/cdn/11.2.1/img/item/{{ItemNumber}}.png\r\n                self.setItem(\r\n                  (self.lastMatch.item0 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item0\r\n                );\r\n                self.setItem(\r\n                  (self.lastMatch.item1 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item1\r\n                );\r\n                self.setItem(\r\n                  (self.lastMatch.item2 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item2\r\n                );\r\n                self.setItem(\r\n                  (self.lastMatch.item3 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item3\r\n                );\r\n                self.setItem(\r\n                  (self.lastMatch.item4 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item4\r\n                );\r\n                self.setItem(\r\n                  (self.lastMatch.item5 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item5\r\n                );\r\n                self.setItem(\r\n                  (self.lastMatch.item6 as unknown) as Item,\r\n                  mostRecentMatch.data.participants[i].stats.item6\r\n                );\r\n              }\r\n\r\n              //KDA\r\n              killcount += mostRecentMatch.data.participants[i].stats.kills;\r\n              if (imatch === 0) {\r\n                self.lastMatch.kills =\r\n                  mostRecentMatch.data.participants[i].stats.kills;\r\n              }\r\n\r\n              deathcount += mostRecentMatch.data.participants[i].stats.deaths;\r\n\r\n              if (imatch === 0) {\r\n                self.lastMatch.deaths =\r\n                  mostRecentMatch.data.participants[i].stats.deaths;\r\n              }\r\n\r\n              assistCount += mostRecentMatch.data.participants[i].stats.assists;\r\n\r\n              if (imatch === 0) {\r\n                self.lastMatch.assists =\r\n                  mostRecentMatch.data.participants[i].stats.assists;\r\n              }\r\n\r\n              //calculate Kill/death ratio\r\n              //these are only relevant to most recent match\r\n              if (imatch === 0) {\r\n                self.lastMatch.kda = (\r\n                  (self.lastMatch.kills + self.lastMatch.assists) /\r\n                  self.lastMatch.deaths\r\n                ).toFixed(2);\r\n                //need an if to get the right string here\r\n                if (\r\n                  mostRecentMatch.data.participants[i].stats\r\n                    .largestMultiKill === 2\r\n                ) {\r\n                  self.lastMatch.largestMultiKill = \"Double Kill\";\r\n                } else if (\r\n                  mostRecentMatch.data.participants[i].stats\r\n                    .largestMultiKill === 3\r\n                ) {\r\n                  self.lastMatch.largestMultiKill = \"Triple Kill\";\r\n                } else if (\r\n                  mostRecentMatch.data.participants[i].stats\r\n                    .largestMultiKill === 4\r\n                ) {\r\n                  self.lastMatch.largestMultiKill = \"QuadraKil\";\r\n                } else if (\r\n                  mostRecentMatch.data.participants[i].stats\r\n                    .largestMultiKill === 5\r\n                ) {\r\n                  self.lastMatch.largestMultiKill = \"Penta Kill\";\r\n                } else if (\r\n                  mostRecentMatch.data.participants[i].stats\r\n                    .largestMultiKill === 6\r\n                ) {\r\n                  self.lastMatch.largestMultiKill = \"Hexa Kill\";\r\n                } else {\r\n                  self.lastMatch.largestMultiKill = \"\";\r\n                }\r\n\r\n                self.lastMatch.champLevel =\r\n                  mostRecentMatch.data.participants[i].stats.champLevel;\r\n\r\n                self.lastMatch.totalMinionsKilled =\r\n                  mostRecentMatch.data.participants[i].stats.totalMinionsKilled;\r\n\r\n                // Find the spells by spell id - using the lol spells package for this.\r\n                // spell info\r\n                // http://ddragon.leagueoflegends.com/cdn/11.2.1/img/spell/{{spellname}}.png\r\n                let spell1Id = mostRecentMatch.data.participants[i].spell1Id;\r\n                let spell2Id = mostRecentMatch.data.participants[i].spell2Id;\r\n                for (let i = 0; i < spells.length; i++) {\r\n                  //check for spell 1\r\n                  console.log(\"comparing api id:\", spell2Id);\r\n                  console.log(\"To spells key: \", spells[i].key);\r\n                  if (spells[i].key == String(spell1Id)) {\r\n                    self.lastMatch.spell1Icon = spells[i].icon;\r\n                    self.lastMatch.spell1Name = spells[i].name;\r\n                    self.lastMatch.spell1Description = spells[i].description;\r\n                  } //check for spell 2\r\n                  else if (spells[i].key == String(spell2Id)) {\r\n                    self.lastMatch.spell2Icon = spells[i].icon;\r\n                    self.lastMatch.spell2Name = spells[i].name;\r\n                    self.lastMatch.spell2Description = spells[i].description;\r\n                  }\r\n                }\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        })\r\n\r\n        //Below i'm just logging any errors from this axios calls\r\n        .catch((e) => console.log(\"Error: \", e));\r\n    }\r\n\r\n    console.log(\"Async thread complete !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\r\n\r\n    //using champion id's to enter data for array of images\r\n    //get most recent match data\r\n    for (let i = 0; i < champions.length; i++) {\r\n      if (champions[i].key === String(champIDs[0])) {\r\n        (self.lastMatch.championId = champions[i].key),\r\n          (self.lastMatch.championName = champions[i].name);\r\n        self.lastMatch.champArtURL = champions[i].icon;\r\n\r\n        break;\r\n      }\r\n    }\r\n\r\n    champIDs.forEach((id) => {\r\n      for (let i = 0; i < champions.length; i++) {\r\n        //if id and key matches then initialize data and end loop\r\n\r\n        if (champions[i].key === String(id)) {\r\n          self.recentChampions.push(\r\n            new Champion(champions[i].key, champions[i].name, champions[i].icon)\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    });\r\n\r\n    //after the for loop through match list\r\n    //calculate averages\r\n    self.stats.avg_Kills = (killcount / matchNums).toFixed(2);\r\n    self.stats.avg_Death = (deathcount / matchNums).toFixed(2);\r\n    self.stats.avg_assists = (assistCount / matchNums).toFixed(2);\r\n    self.stats.diff_Roles = roleCount.length;\r\n    self.stats.diff_Queues = queueCount.length;\r\n    self.stats.diff_Champions = champIDs.length;\r\n    self.stats.win_Rate =\r\n      ((self.stats.wins / matchNums) * 100).toFixed(0) + \"%\";\r\n  }\r\n\r\n  setItem(thisItem: Item, arrayItem: any) {\r\n    //call to firebase to get item info\r\n    var checkdatabase = firebase.database().ref(\"items/\" + String(arrayItem));\r\n    checkdatabase.on(\"value\", (snapshot) => {\r\n      if (snapshot.val() != null) {\r\n        //check if keystone rune\r\n        thisItem.icon = snapshot.val().icon;\r\n        thisItem.name = snapshot.val().name;\r\n        thisItem.desc = snapshot.val().description;\r\n      } else {\r\n        thisItem.icon = null;\r\n      }\r\n    });\r\n\r\n    //if item was never found then initilaize to null\r\n  }\r\n\r\n  // Check if the items exist before rendering them\r\n\r\n  itemExists(item: Item) {\r\n    if (item.icon == null) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}