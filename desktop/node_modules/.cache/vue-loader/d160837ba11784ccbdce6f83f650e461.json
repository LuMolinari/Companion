{"remainingRequest":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Molin\\Companion\\desktop\\src\\components\\Highlights.vue","mtime":1616543404705},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\babel-loader\\lib\\index.js","mtime":1610329795007},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\ts-loader\\index.js","mtime":1610329799503},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\desktop\\node_modules\\vue-loader\\lib\\index.js","mtime":1610329801347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOw0KaW1wb3J0IERleGllIGZyb20gImRleGllIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQovLyBAdHMtaWdub3JlDQppbXBvcnQgY2hhbXBpb25zIGZyb20gImxvbC1jaGFtcGlvbnMiOw0KDQovL3RoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHZpZGVvIGluc2lkZSBhIGZvbGRlcg0KY2xhc3MgVmlkZW8gew0KICBwdWJsaWMgdmlkZW9BZGRyZXNzOiBzdHJpbmc7DQogIHB1YmxpYyB2aWRlb1N0YXJ0VGltZTogc3RyaW5nOw0KICBwdWJsaWMgZHVyYXRpb246IHN0cmluZzsNCiAgcHVibGljIGhpZ2hsaWdodFR5cGU6IHN0cmluZzsNCiAgcHVibGljIHRodW1ibmFpbF91cmw6IHN0cmluZzsNCn0NCg0KLy90aGlzIGNsYXNzIHJlcHJlc2VudHMgYSBmb2xkZXINCmNsYXNzIFZpZGVvRm9sZGVyIHsNCiAgLy9pZiB3ZSBxdWVyeSBtYXRjaCBpZCB3aXRoIHJpb3Qgd2UgY2FuIHByb2JhYnlseSBnZXQgbWF0Y2h0eXBlIGFuZCBjaGFtcGlvbiB1c2VkDQogIHB1YmxpYyBnYW1lTW9kZTogc3RyaW5nOyAvL3JlZ3VsYXIvYXJhbS9wcmFjdGljZQ0KICBwdWJsaWMgY2hhbXBpb25VUkw6IHN0cmluZzsNCiAgcHVibGljIGdhbWVSZXN1bHQ6IHN0cmluZzsgLy9yZWd1bGFyL2FyYW0vcHJhY3RpY2UNCg0KICBwdWJsaWMgZ2FtZVR5cGU6IHN0cmluZzsgLy9yZWd1bGFyL2FyYW0vcHJhY3RpY2UNCiAgcHVibGljIGNoYW1waW9uOiBzdHJpbmc7IC8vdXJsIG9mIGNoYW1waW9uIGltZw0KDQogIC8vYmVsb3cgaXMgcmVjZWl2ZWQgZnJvbSBkYXRhYmFzZQ0KICBwdWJsaWMgZGF0ZTogc3RyaW5nOw0KICBwdWJsaWMgdGltZTogc3RyaW5nOw0KICBwdWJsaWMgdmlkZW9MaXN0OiBBcnJheTxWaWRlbz4gPSBbXTsNCg0KICBzZXREYXRlKGRhdGU6IHN0cmluZykgew0KICAgIHRoaXMuZGF0ZSA9IGRhdGU7DQogIH0NCg0KICBzZXRUaW1lKHRpbWU6IHN0cmluZykgew0KICAgIHRoaXMudGltZSA9IHRpbWU7DQogIH0NCg0KICBhZGRWaWRlb1RvRm9sZGVyKHZpZGVvOiBWaWRlbykgew0KICAgIHRoaXMudmlkZW9MaXN0LnB1c2godmlkZW8pOw0KICB9DQp9DQoNCkBDb21wb25lbnQNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpZ2hsaWdodHMgZXh0ZW5kcyBWdWUgew0KICBoaWdobGlnaHRzQXZhaWxhYmxlID0gZmFsc2U7DQogIHZpZGVvTGlzdDogQXJyYXk8VmlkZW9Gb2xkZXI+ID0gW107DQogIGN1cnJlbnRfVmlkZW8gPSAiIjsNCg0KICBzZXRWaWRlbyhuZXdWaWRlbzogc3RyaW5nKSB7DQogICAgdGhpcy5jdXJyZW50X1ZpZGVvID0gbmV3VmlkZW87DQogIH0NCg0KICBzZXRDaGFtcGlvbihmb2xkZXI6IFZpZGVvRm9sZGVyKSB7DQogICAgcmV0dXJuIGZvbGRlci5jaGFtcGlvblVSTDsNCiAgfQ0KDQogIGNoZWNrTmV4dFZpZGVvKHZpZGVvOiBzdHJpbmcpIHsNCiAgICB2YXIgZmxhZyA9IGZhbHNlOw0KICAgIC8vIGNoZWNrIGluZGV4IG9mIHZpZGVvIHBhc3NlZA0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52aWRlb0xpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy52aWRlb0xpc3RbaV0udmlkZW9MaXN0Lmxlbmd0aDsgaisrKSB7DQogICAgICAgIGlmICh0aGlzLnZpZGVvTGlzdFtpXS52aWRlb0xpc3Rbal0udmlkZW9BZGRyZXNzID09IHZpZGVvKSB7DQogICAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgaXNuJ3QgdGhlIGxhc3QgdmlkZW8NCiAgICAgICAgICBpZiAoaiAhPSB0aGlzLnZpZGVvTGlzdFtpXS52aWRlb0xpc3QubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSBuZXh0IHZpZGVvDQogICAgICAgICAgICBmbGFnID0gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIGZsYWc7DQogIH0NCg0KICBjaGVja1ByZXZpb3VzVmlkZW8odmlkZW86IHN0cmluZykgew0KICAgIHZhciBmbGFnID0gZmFsc2U7DQogICAgLy8gc2VhcmNoIGZvciB0aGUgY3VycmVudCB2aWRlbyB0byBnZXQNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmlkZW9MaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICBmb3IgKHZhciBqID0gdGhpcy52aWRlb0xpc3RbaV0udmlkZW9MaXN0Lmxlbmd0aCAtIDE7IGogPiAwOyBqLS0pIHsNCiAgICAgICAgaWYgKHRoaXMudmlkZW9MaXN0W2ldLnZpZGVvTGlzdFtqXS52aWRlb0FkZHJlc3MgPT0gdmlkZW8pIHsNCiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyBpc24ndCB0aGUgZmlyc3QgdmlkZW8NCiAgICAgICAgICBpZiAoaiAhPSAwKSB7DQogICAgICAgICAgICAvLyB0aGVyZSBpcyBhIHByZXZpb3VzIHZpZGVvDQogICAgICAgICAgICBmbGFnID0gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIGZsYWc7DQogIH0NCg0KICBnZXROZXh0VmlkZW8odmlkZW86IHN0cmluZykgew0KICAgIC8vIGNoZWNrIGluZGV4IG9mIHZpZGVvIHBhc3NlZA0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52aWRlb0xpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy52aWRlb0xpc3RbaV0udmlkZW9MaXN0Lmxlbmd0aDsgaisrKSB7DQogICAgICAgIGlmICh0aGlzLnZpZGVvTGlzdFtpXS52aWRlb0xpc3Rbal0udmlkZW9BZGRyZXNzID09IHZpZGVvKSB7DQogICAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgaXNuJ3QgdGhlIGxhc3QgdmlkZW8NCiAgICAgICAgICBpZiAoaiAhPSB0aGlzLnZpZGVvTGlzdFtpXS52aWRlb0xpc3QubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgLy8gY2FsbCBzZXRWaWRlbyB3aXRoIHRoaXMgbmV4dCB2aWRlbw0KICAgICAgICAgICAgdGhpcy5zZXRWaWRlbyh0aGlzLnZpZGVvTGlzdFtpXS52aWRlb0xpc3RbaiArIDFdLnZpZGVvQWRkcmVzcyk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgZ2V0UHJldmlvdXNWaWRlbyh2aWRlbzogc3RyaW5nKSB7DQogICAgLy8gc2VhcmNoIGZvciB0aGUgY3VycmVudCB2aWRlbyB0byBnZXQNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmlkZW9MaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICBmb3IgKHZhciBqID0gdGhpcy52aWRlb0xpc3RbaV0udmlkZW9MaXN0Lmxlbmd0aCAtIDE7IGogPiAwOyBqLS0pIHsNCiAgICAgICAgaWYgKHRoaXMudmlkZW9MaXN0W2ldLnZpZGVvTGlzdFtqXS52aWRlb0FkZHJlc3MgPT0gdmlkZW8pIHsNCiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyBpc24ndCB0aGUgZmlyc3QgdmlkZW8NCiAgICAgICAgICBpZiAoaiAhPSAwKSB7DQogICAgICAgICAgICAvLyBjYWxsIHNldFZpZGVvIHdpdGggdGhpcyBwcmV2aW91cyB2aWRlbw0KICAgICAgICAgICAgdGhpcy5zZXRWaWRlbyh0aGlzLnZpZGVvTGlzdFtpXS52aWRlb0xpc3RbaiAtIDFdLnZpZGVvQWRkcmVzcyk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICBhc3luYyBtb3VudGVkKCkgew0KICAgIGxldCBzZWxmID0gdGhpczsNCiAgICBsZXQgc2V0Rmlyc3RWaWRlbyA9IGZhbHNlOw0KICAgIC8vZmV0Y2ggcmVjZW50IHZpZGVvcw0KDQogICAgLy9vcGVuIGxvY2FsIGRhdGFiYXNlDQogICAgdmFyIGxvY2FsREIgPSBuZXcgRGV4aWUoImhpZ2hsaWdodHNEQiIpOw0KICAgIGxvY2FsREIudmVyc2lvbigxKS5zdG9yZXMoew0KICAgICAgbWF0Y2hlczogIm1hdGNoX2lkLCBtYXRjaF9zdGFydF90aW1lIiwNCiAgICAgIHZpZGVvczoNCiAgICAgICAgIm1lZGlhX3VybCwgbWF0Y2hfaWQsIHRodW1ibmFpbF91cmwsIGhpZ2hsaWdodF9zdGFydF90aW1lLCBkdXJhdGlvbiwgaGlnaHRUeXBlIiwNCiAgICB9KTsNCg0KICAgIC8vY2hlY2sgaWYgbWF0Y2hlcyBleGlzdCBpbiB0aGUgZGF0YWJhc2UNCiAgICBsb2NhbERCLnRhYmxlKCJtYXRjaGVzIikuY291bnQoKGNvdW50KSA9PiB7DQogICAgICBpZiAoY291bnQgIT0gMCkgew0KICAgICAgICB0aGlzLmhpZ2hsaWdodHNBdmFpbGFibGUgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy9nZXQgbGFzdCA1IG1vc3QgcmVjZW50IGdhbWVzDQogICAgY29uc3QgcmVjZW50R2FtZXMgPSBhd2FpdCBsb2NhbERCDQogICAgICAudGFibGUoIm1hdGNoZXMiKQ0KICAgICAgLm9yZGVyQnkoIm1hdGNoX3N0YXJ0X3RpbWUiKQ0KICAgICAgLnJldmVyc2UoKQ0KICAgICAgLmxpbWl0KDUpDQogICAgICAudG9BcnJheSgpDQogICAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUpKTsNCg0KICAgIC8vZ2V0IGFsbCBvdGhlciBnYW1lcw0KICAgIGNvbnN0IG9sZGVyR2FtZXMgPSBhd2FpdCBsb2NhbERCDQogICAgICAudGFibGUoIm1hdGNoZXMiKQ0KICAgICAgLm9yZGVyQnkoIm1hdGNoX3N0YXJ0X3RpbWUiKQ0KICAgICAgLnJldmVyc2UoKQ0KICAgICAgLm9mZnNldCg1KQ0KICAgICAgLnRvQXJyYXkoKQ0KICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmxvZyhlKSk7DQoNCiAgICAvL2Rpc3BsYXkgcmVzdWx0cw0KICAgIGNvbnNvbGUubG9nKCJhcnJheSBvZiByZWNlbnQgZ2FtZXM6ICIsIHJlY2VudEdhbWVzKTsNCiAgICBjb25zb2xlLmxvZygiYXJyYXkgb2Ygb2xkZXIgZ2FtZXM6ICIsIG9sZGVyR2FtZXMpOw0KDQogICAgLy9sb29wIHRocm91Z2ggbGFzdCA1IGdhbWVzIGFuZCB1c2UgZ2FtZSBpZCdzIHRvIHB1bGwgZGF0YQ0KICAgIC8vQHRzLWlnbm9yZQ0KICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZWNlbnRHYW1lcy5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgIGxldCBtYXRjaF9kYXRlID0gbmV3IERhdGUocmVjZW50R2FtZXNbaW5kZXhdLm1hdGNoX3N0YXJ0X3RpbWUpOw0KDQogICAgICAvL2NyZWF0ZSBuZXcgbWF0Y2gNCiAgICAgIGxldCB0ZW1wRm9sZGVyID0gbmV3IFZpZGVvRm9sZGVyKCk7DQogICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgIkNhbGxpbmc6ICIsDQogICAgICAgICJodHRwczovL25hMS5hcGkucmlvdGdhbWVzLmNvbS9sb2wvbWF0Y2gvdjQvbWF0Y2hlcy8iICsNCiAgICAgICAgICByZWNlbnRHYW1lc1tpbmRleF0ubWF0Y2hfaWQgKw0KICAgICAgICAgICI/YXBpX2tleT1SR0FQSS1jMjY3ZTNlOC04N2NkLTQ0ZmUtODlhYi1hZmE4ZjhmZDFkYzkiDQogICAgICApOw0KICAgICAgYXdhaXQgYXhpb3MNCiAgICAgICAgLmdldCgNCiAgICAgICAgICAiaHR0cHM6Ly9uYTEuYXBpLnJpb3RnYW1lcy5jb20vbG9sL21hdGNoL3Y0L21hdGNoZXMvIiArDQogICAgICAgICAgICByZWNlbnRHYW1lc1tpbmRleF0ubWF0Y2hfaWQgKw0KICAgICAgICAgICAgIj9hcGlfa2V5PVJHQVBJLWMyNjdlM2U4LTg3Y2QtNDRmZS04OWFiLWFmYThmOGZkMWRjOSINCiAgICAgICAgKQ0KICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coInJlc3VsdCBvZiByaW90IGNhbGw6ICIsIHJlc3VsdCk7DQogICAgICAgICAgLy9nZXQgZ2FtZSBtb2RlDQogICAgICAgICAgdGVtcEZvbGRlci5nYW1lTW9kZSA9IHJlc3VsdC5kYXRhLmdhbWVNb2RlOw0KICAgICAgICAgIGNvbnNvbGUubG9nKCJnYW1lbW9kZTogIiwgdGVtcEZvbGRlci5nYW1lTW9kZSk7DQogICAgICAgICAgLy9maW5kIGlkZW50aXR5IG9mIG91dCB1c2VyIGZyb20gYXJyYXk7DQoNCiAgICAgICAgICBpZiAocmVzdWx0LmRhdGEucGFydGljaXBhbnRJZGVudGl0aWVzLmxlbmd0aCA9PT0gMTApIHsNCiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcmVzdWx0LmRhdGEucGFydGljaXBhbnRJZGVudGl0aWVzLmxlbmd0aDsgaysrKSB7DQogICAgICAgICAgICAgIC8vaWYgcGFydGljaXBhbnQgaWRlbnRpdHkgbWF0Y2hlcyBuYW1ldiBpbiBsb2NhbCBzdG9yYWdlDQogICAgICAgICAgICAgIC8vaWYgcGFydGljaXBhbnQgaWRlbnRpdGllcyBkb250IGV4aXN0IHRoZW4gaXQgd2FzIGEgcHJhY3RpY2UgZ2FtZQ0KDQogICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICByZXN1bHQuZGF0YS5wYXJ0aWNpcGFudElkZW50aXRpZXNba10ucGxheWVyLnN1bW1vbmVyTmFtZSA9PT0NCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2FsVXNlcm5hbWUiKQ0KICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAvL2dldCBnYW1lIG91dGNvbWUNCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEucGFydGljaXBhbnRzW2tdLnN0YXRzLndpbiA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgICAgdGVtcEZvbGRlci5nYW1lUmVzdWx0ID0gIlZpY3RvcnkiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICB0ZW1wRm9sZGVyLmdhbWVSZXN1bHQgPSAiRGVmZWF0IjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL2dldCBjaGFtcGlvbiB1c2VkDQogICAgICAgICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCBjaGFtcGlvbnMubGVuZ3RoOyBsKyspIHsNCiAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgY2hhbXBpb25zW2xdLmtleSA9PT0NCiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHJlc3VsdC5kYXRhLnBhcnRpY2lwYW50c1trXS5jaGFtcGlvbklkKQ0KICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgIHRlbXBGb2xkZXIuY2hhbXBpb25VUkwgPSBjaGFtcGlvbnNbbF0uaWNvbjsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGVtcEZvbGRlci5nYW1lUmVzdWx0ID0gIldpbiI7DQogICAgICAgICAgICAvL2dldCBjaGFtcGlvbiB1c2VkDQogICAgICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IGNoYW1waW9ucy5sZW5ndGg7IGwrKykgew0KICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgY2hhbXBpb25zW2xdLmtleSA9PT0NCiAgICAgICAgICAgICAgICBTdHJpbmcocmVzdWx0LmRhdGEucGFydGljaXBhbnRzWzBdLmNoYW1waW9uSWQpDQogICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgIHRlbXBGb2xkZXIuY2hhbXBpb25VUkwgPSBjaGFtcGlvbnNbbF0uaWNvbjsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAvL3NldCBkYXRlIGFuZCB0aW1lIGZyb20gdGhlIGRhdGFiYXNlDQogICAgICB0ZW1wRm9sZGVyLnNldERhdGUobWF0Y2hfZGF0ZS50b0RhdGVTdHJpbmcoKSk7DQogICAgICB0ZW1wRm9sZGVyLnNldFRpbWUobWF0Y2hfZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKSk7DQoNCiAgICAgIC8vZ2V0IGFsbCB0aGUgdmlkZW9zIHdpdGggbWF0Y2hpbmcgaWRzDQogICAgICBsZXQgdmlkZW9zSW5NYXRjaCA9IGF3YWl0IGxvY2FsREINCiAgICAgICAgLnRhYmxlKCJ2aWRlb3MiKQ0KICAgICAgICAud2hlcmUoIm1hdGNoX2lkIikNCiAgICAgICAgLmVxdWFscyhyZWNlbnRHYW1lc1tpbmRleF0ubWF0Y2hfaWQpDQogICAgICAgIC50b0FycmF5KCkNCiAgICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmxvZyhlKSk7DQogICAgICBjb25zb2xlLmxvZygiVmlkZW9zIEZvdW5kOiAiLCB2aWRlb3NJbk1hdGNoKTsNCg0KICAgICAgLy9AdHMtaWdub3JlDQogICAgICBmb3IgKGxldCB1cmxzID0gMDsgdXJscyA8IHZpZGVvc0luTWF0Y2gubGVuZ3RoOyB1cmxzKyspIHsNCiAgICAgICAgbGV0IHRlbXBWaWRlbyA9IG5ldyBWaWRlbygpOw0KDQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJkdXJhdGlvbjogIiwgbmV3IERhdGUgICh2aWRlb3NJbk1hdGNoW3VybHNdLmR1cmF0aW9uKS5nZXRTZWNvbmRzKCkrInMiKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coImhpZ2hsaWdodF9zdGFydF90aW1lOiAiLCBuZXcgRGF0ZSAgKHZpZGVvc0luTWF0Y2hbdXJsc10uaGlnaGxpZ2h0X3N0YXJ0X3RpbWUpLnRvTG9jYWxlVGltZVN0cmluZygpKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coImhpZ2h0VHlwZTogIiwgdmlkZW9zSW5NYXRjaFt1cmxzXS5oaWdodFR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2h0VHlwZS5zbGljZSgxKSk7IC8vbWFrZSBmaXJzdCBsZXR0ZXIgdXBwZXJjYXNlDQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJtZWRpYV91cmw6ICIsIHZpZGVvc0luTWF0Y2hbdXJsc10ubWVkaWFfdXJsKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coInRodW1ibmFpbF91cmw6ICIsdmlkZW9zSW5NYXRjaFt1cmxzXS50aHVtYm5haWxfdXJsKTsNCiAgICAgICAgaWYgKCFzZXRGaXJzdFZpZGVvKSB7DQogICAgICAgICAgc2VsZi5jdXJyZW50X1ZpZGVvID0gdmlkZW9zSW5NYXRjaFt1cmxzXS5tZWRpYV91cmw7DQogICAgICAgICAgc2V0Rmlyc3RWaWRlbyA9IHRydWU7DQogICAgICAgIH0NCiAgICAgICAgdGVtcFZpZGVvLnZpZGVvQWRkcmVzcyA9IHZpZGVvc0luTWF0Y2hbdXJsc10ubWVkaWFfdXJsOw0KICAgICAgICB0ZW1wVmlkZW8udmlkZW9TdGFydFRpbWUgPSBuZXcgRGF0ZSgNCiAgICAgICAgICB2aWRlb3NJbk1hdGNoW3VybHNdLmhpZ2hsaWdodF9zdGFydF90aW1lDQogICAgICAgICkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7DQogICAgICAgIHRlbXBWaWRlby5kdXJhdGlvbiA9DQogICAgICAgICAgbmV3IERhdGUodmlkZW9zSW5NYXRjaFt1cmxzXS5kdXJhdGlvbikuZ2V0U2Vjb25kcygpICsgInMiOw0KICAgICAgICB0ZW1wVmlkZW8uaGlnaGxpZ2h0VHlwZSA9DQogICAgICAgICAgdmlkZW9zSW5NYXRjaFt1cmxzXS5oaWdodFR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKw0KICAgICAgICAgIHZpZGVvc0luTWF0Y2hbdXJsc10uaGlnaHRUeXBlLnNsaWNlKDEpOyAvL21ha2UgZmlyc3QgbGV0dGVyIHVwcGVyY2FzZQ0KICAgICAgICB0ZW1wVmlkZW8udGh1bWJuYWlsX3VybCA9IHZpZGVvc0luTWF0Y2hbdXJsc10udGh1bWJuYWlsX3VybDsNCg0KICAgICAgICB0ZW1wRm9sZGVyLmFkZFZpZGVvVG9Gb2xkZXIodGVtcFZpZGVvKTsNCiAgICAgIH0NCg0KICAgICAgc2VsZi52aWRlb0xpc3QucHVzaCh0ZW1wRm9sZGVyKTsNCiAgICB9DQoNCiAgICAvL2FmdGVyIHRoaXMgYWxsIHRoZSBkYXRhIGlzIGJlaW5nIGRpc3BsYXllZA0KICAgIC8vYnV0IG5vdyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgb2xkZXIgZ2FtZXMsIHNvIHRoZXkgZG9udCBwb2xsdXRlIHRoZSBkYXRhYmFzZQ0KICAgIC8vbG9vcCB0aHJvdWdoIG9sZGVyIGdhbWVzIGFuZCB1c2UgZ2FtZSBpZCdzIHRvIGRlbGV0ZSBkYXRhDQogICAgLy9AdHMtaWdub3JlDQogICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG9sZGVyR2FtZXMubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAvL2dldCBhbGwgdGhlIHZpZGVvcyB3aXRoIG1hdGNoaW5nIGlkcw0KICAgICAgbGV0IG9sZGVyVmlkZW9zID0gYXdhaXQgbG9jYWxEQg0KICAgICAgICAudGFibGUoInZpZGVvcyIpDQogICAgICAgIC53aGVyZSgibWF0Y2hfaWQiKQ0KICAgICAgICAuZXF1YWxzKG9sZGVyR2FtZXNbaW5kZXhdLm1hdGNoX2lkKQ0KICAgICAgICAudG9BcnJheSgpDQogICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coZSkpOw0KICAgICAgY29uc29sZS5sb2coIk9sZGVyIFZpZGVvcyBGb3VuZDogIiwgb2xkZXJWaWRlb3MpOw0KDQogICAgICAvL2xvb3AgdGhyb3VnaCB2aWRlbyBhZHJlc3NlcyBpbiBtYXRjaGVzDQogICAgICAvL0B0cy1pZ25vcmUNCiAgICAgIGZvciAobGV0IHVybHMgPSAwOyB1cmxzIDwgb2xkZXJWaWRlb3MubGVuZ3RoOyB1cmxzKyspIHsNCiAgICAgICAgLy9kZWxldGUgYWN0dWFsIHZpZGVvcyBmcm9tIGxvY2FsIGRpc2sgdXNpbmcgb3ZlcndvbGYNCiAgICAgICAgLy9AdHMtaWdub3JlDQogICAgICAgIG92ZXJ3b2xmLm1lZGlhLnZpZGVvcy5kZWxldGVWaWRlbyhvbGRlclZpZGVvc1t1cmxzXS5tZWRpYV91cmwpOw0KICAgICAgfQ0KDQogICAgICAvL3RoZW4gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgdmlkZW9zIGRhdGFiYXNlDQogICAgICBsb2NhbERCDQogICAgICAgIC50YWJsZSgidmlkZW9zIikNCiAgICAgICAgLndoZXJlKCJtYXRjaF9pZCIpDQogICAgICAgIC5lcXVhbHMocmVjZW50R2FtZXNbaW5kZXhdLm1hdGNoX2lkKQ0KICAgICAgICAuZGVsZXRlKCkNCiAgICAgICAgLnRoZW4oKGRlbGV0ZUNvdW50KSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coIkRlbGV0ZWQgb2xkZXIgaGlnaGxpZ2h0cyB2aWRlb3M6ICIsIGRlbGV0ZUNvdW50KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmxvZyhlKSk7DQogICAgfQ0KDQogICAgLy9nZXQgYWxsIG90aGVyIGdhbWVzDQogICAgYXdhaXQgbG9jYWxEQg0KICAgICAgLnRhYmxlKCJtYXRjaGVzIikNCiAgICAgIC5vcmRlckJ5KCJtYXRjaF9zdGFydF90aW1lIikNCiAgICAgIC5yZXZlcnNlKCkNCiAgICAgIC5vZmZzZXQoNSkNCiAgICAgIC5kZWxldGUoKQ0KICAgICAgLnRoZW4oKGRlbGV0ZUNvdW50KSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJEZWxldGVkIG9sZCBtYXRjaCBkYXRhIiwgZGVsZXRlQ291bnQpOw0KICAgICAgfSkNCiAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coZSkpOw0KICB9DQoNCiAgY3JlYXRlZCgpIHsNCiAgICAvLyB3aW5kb3cgcmVzaXplDQogICAgbGV0IFdpbmRvd0lkOw0KICAgIC8vQHRzLWlnbm9yZQ0KICAgIG92ZXJ3b2xmLndpbmRvd3MuZ2V0Q3VycmVudFdpbmRvdyhmdW5jdGlvbiAocmVzKSB7DQogICAgICBXaW5kb3dJZCA9IHJlcy53aW5kb3cuaWQ7DQogICAgICBjb25zb2xlLmxvZygiV2luZG93IGlkOiAiLCBXaW5kb3dJZCk7DQogICAgICBsZXQgc2l6ZVNldHRpbmdzID0gew0KICAgICAgICB3aW5kb3dfaWQ6IFdpbmRvd0lkLA0KICAgICAgICB3aWR0aDogMTYwMCwNCiAgICAgICAgaGVpZ2h0OiA4MDAsDQogICAgICAgIGF1dG9fZHBpX3Jlc2l6ZTogdHJ1ZSwgLy9yZWxldmFudCBvbmx5IGZvciBuYXRpdmUgd2luZG93cw0KICAgICAgfTsNCiAgICAgIC8vQHRzLWlnbm9yZQ0KICAgICAgb3ZlcndvbGYud2luZG93cy5jaGFuZ2VTaXplKHNpemVTZXR0aW5ncywgKGUpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coImNoYW5nZSBzaXplIGNhbGxiYWNrOiAiLCBlKTsNCiAgICAgIH0pOw0KICAgIH0pOw0KICB9DQp9DQo="},{"version":3,"sources":["Highlights.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Highlights.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1 style=\"text-align: center; color: white; padding: 20px\">Highlights</h1>\r\n    <hr />\r\n    <div class=\"highlights-container\">\r\n      <div class=\"yes-highlights\" v-if=\"true\">\r\n        <div class=\"highlights-list\">\r\n          <!-- for loop to go through video folders -->\r\n          <div v-for=\"folder in videoList\" :key=\"folder.date\">\r\n            <div class=\"folder-tab\">\r\n              <div class=\"foldertab-menu\">\r\n                <img\r\n                  :src=\"setChampion(folder)\"\r\n                  alt=\"champion\"\r\n                  height=\"100px\"\r\n                  width=\"100px\"\r\n                />\r\n                <div class=\"vertical\">\r\n                  <h2>{{ folder.gameMode }}</h2>\r\n                  <h3>{{ folder.date }}</h3>\r\n                  <h3>{{ folder.time }}</h3>\r\n                </div>\r\n\r\n                <h3 class=\"result\">{{ folder.gameResult }}</h3>\r\n              </div>\r\n              <!-- for loop to go through videos in the folder -->\r\n              <div v-for=\"video in folder.videoList\" :key=\"video.videoAddress\">\r\n                <div class=\"video-button\" @click=\"setVideo(video.videoAddress)\">\r\n              \r\n                      <img\r\n                        class=\"video-thumbnail\"\r\n                        :src=\"video.thumbnail_url\"\r\n                        alt=\"thumbnail\"\r\n                        height=\"75\"\r\n                        width=\"75\"\r\n                      />\r\n             <h2>{{ video.highlightType }}</h2>\r\n                    <div class=\"highlight-details\">\r\n                    \r\n                      {{ video.videoStartTime }}<br />\r\n                      {{ video.duration }}<br />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- video side -->\r\n        <div class=\"video-side\">\r\n          <!-- used :src to dynamically set video -->\r\n          <video\r\n            height=\"480px\"\r\n            width=\"720px\"\r\n            :src=\"current_Video\"\r\n            controls\r\n            autoplay\r\n          ></video>\r\n\r\n          <div class=\"below-button\">\r\n            <div v-if=\"checkPreviousVideo(current_Video)\">\r\n              <button\r\n                class=\"video-button-below\"\r\n                v-on:click=\"getPreviousVideo(current_Video)\"\r\n              >\r\n                Previous\r\n              </button>\r\n            </div>\r\n\r\n            <div v-if=\"checkNextVideo(current_Video)\">\r\n              <button\r\n                class=\"video-button-below\"\r\n                v-on:click=\"getNextVideo(current_Video)\"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"no-highlights\" v-else>\r\n        <h2>No Highlights Found</h2>\r\n        <img\r\n          src=\"https://img.icons8.com/bubbles/500/000000/google-web-search.png\"\r\n          height=\"500\"\r\n          width=\"500\"\r\n        />\r\n\r\n        <h2>Try Playing Some Games</h2>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport Dexie from \"dexie\";\r\nimport axios from \"axios\";\r\n// @ts-ignore\r\nimport champions from \"lol-champions\";\r\n\r\n//this class represents a video inside a folder\r\nclass Video {\r\n  public videoAddress: string;\r\n  public videoStartTime: string;\r\n  public duration: string;\r\n  public highlightType: string;\r\n  public thumbnail_url: string;\r\n}\r\n\r\n//this class represents a folder\r\nclass VideoFolder {\r\n  //if we query match id with riot we can probabyly get matchtype and champion used\r\n  public gameMode: string; //regular/aram/practice\r\n  public championURL: string;\r\n  public gameResult: string; //regular/aram/practice\r\n\r\n  public gameType: string; //regular/aram/practice\r\n  public champion: string; //url of champion img\r\n\r\n  //below is received from database\r\n  public date: string;\r\n  public time: string;\r\n  public videoList: Array<Video> = [];\r\n\r\n  setDate(date: string) {\r\n    this.date = date;\r\n  }\r\n\r\n  setTime(time: string) {\r\n    this.time = time;\r\n  }\r\n\r\n  addVideoToFolder(video: Video) {\r\n    this.videoList.push(video);\r\n  }\r\n}\r\n\r\n@Component\r\nexport default class Highlights extends Vue {\r\n  highlightsAvailable = false;\r\n  videoList: Array<VideoFolder> = [];\r\n  current_Video = \"\";\r\n\r\n  setVideo(newVideo: string) {\r\n    this.current_Video = newVideo;\r\n  }\r\n\r\n  setChampion(folder: VideoFolder) {\r\n    return folder.championURL;\r\n  }\r\n\r\n  checkNextVideo(video: string) {\r\n    var flag = false;\r\n    // check index of video passed\r\n    for (var i = 0; i < this.videoList.length; i++) {\r\n      for (var j = 0; j < this.videoList[i].videoList.length; j++) {\r\n        if (this.videoList[i].videoList[j].videoAddress == video) {\r\n          // Make sure this isn't the last video\r\n          if (j != this.videoList[i].videoList.length - 1) {\r\n            // there is a next video\r\n            flag = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  checkPreviousVideo(video: string) {\r\n    var flag = false;\r\n    // search for the current video to get\r\n    for (var i = 0; i < this.videoList.length; i++) {\r\n      for (var j = this.videoList[i].videoList.length - 1; j > 0; j--) {\r\n        if (this.videoList[i].videoList[j].videoAddress == video) {\r\n          // Make sure this isn't the first video\r\n          if (j != 0) {\r\n            // there is a previous video\r\n            flag = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  getNextVideo(video: string) {\r\n    // check index of video passed\r\n    for (var i = 0; i < this.videoList.length; i++) {\r\n      for (var j = 0; j < this.videoList[i].videoList.length; j++) {\r\n        if (this.videoList[i].videoList[j].videoAddress == video) {\r\n          // Make sure this isn't the last video\r\n          if (j != this.videoList[i].videoList.length - 1) {\r\n            // call setVideo with this next video\r\n            this.setVideo(this.videoList[i].videoList[j + 1].videoAddress);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getPreviousVideo(video: string) {\r\n    // search for the current video to get\r\n    for (var i = 0; i < this.videoList.length; i++) {\r\n      for (var j = this.videoList[i].videoList.length - 1; j > 0; j--) {\r\n        if (this.videoList[i].videoList[j].videoAddress == video) {\r\n          // Make sure this isn't the first video\r\n          if (j != 0) {\r\n            // call setVideo with this previous video\r\n            this.setVideo(this.videoList[i].videoList[j - 1].videoAddress);\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async mounted() {\r\n    let self = this;\r\n    let setFirstVideo = false;\r\n    //fetch recent videos\r\n\r\n    //open local database\r\n    var localDB = new Dexie(\"highlightsDB\");\r\n    localDB.version(1).stores({\r\n      matches: \"match_id, match_start_time\",\r\n      videos:\r\n        \"media_url, match_id, thumbnail_url, highlight_start_time, duration, hightType\",\r\n    });\r\n\r\n    //check if matches exist in the database\r\n    localDB.table(\"matches\").count((count) => {\r\n      if (count != 0) {\r\n        this.highlightsAvailable = true;\r\n      }\r\n    });\r\n\r\n    //get last 5 most recent games\r\n    const recentGames = await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .limit(5)\r\n      .toArray()\r\n      .catch((e) => console.log(e));\r\n\r\n    //get all other games\r\n    const olderGames = await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .offset(5)\r\n      .toArray()\r\n      .catch((e) => console.log(e));\r\n\r\n    //display results\r\n    console.log(\"array of recent games: \", recentGames);\r\n    console.log(\"array of older games: \", olderGames);\r\n\r\n    //loop through last 5 games and use game id's to pull data\r\n    //@ts-ignore\r\n    for (let index = 0; index < recentGames.length; index++) {\r\n      let match_date = new Date(recentGames[index].match_start_time);\r\n\r\n      //create new match\r\n      let tempFolder = new VideoFolder();\r\n      console.log(\r\n        \"Calling: \",\r\n        \"https://na1.api.riotgames.com/lol/match/v4/matches/\" +\r\n          recentGames[index].match_id +\r\n          \"?api_key=RGAPI-c267e3e8-87cd-44fe-89ab-afa8f8fd1dc9\"\r\n      );\r\n      await axios\r\n        .get(\r\n          \"https://na1.api.riotgames.com/lol/match/v4/matches/\" +\r\n            recentGames[index].match_id +\r\n            \"?api_key=RGAPI-c267e3e8-87cd-44fe-89ab-afa8f8fd1dc9\"\r\n        )\r\n        .then((result) => {\r\n          console.log(\"result of riot call: \", result);\r\n          //get game mode\r\n          tempFolder.gameMode = result.data.gameMode;\r\n          console.log(\"gamemode: \", tempFolder.gameMode);\r\n          //find identity of out user from array;\r\n\r\n          if (result.data.participantIdentities.length === 10) {\r\n            for (let k = 0; k < result.data.participantIdentities.length; k++) {\r\n              //if participant identity matches namev in local storage\r\n              //if participant identities dont exist then it was a practice game\r\n\r\n              if (\r\n                result.data.participantIdentities[k].player.summonerName ===\r\n                window.localStorage.getItem(\"localUsername\")\r\n              ) {\r\n                //get game outcome\r\n                if (result.data.participants[k].stats.win === true) {\r\n                  tempFolder.gameResult = \"Victory\";\r\n                } else {\r\n                  tempFolder.gameResult = \"Defeat\";\r\n                }\r\n\r\n                //get champion used\r\n                for (let l = 0; l < champions.length; l++) {\r\n                  if (\r\n                    champions[l].key ===\r\n                    String(result.data.participants[k].championId)\r\n                  ) {\r\n                    tempFolder.championURL = champions[l].icon;\r\n                    break;\r\n                  }\r\n                }\r\n\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            tempFolder.gameResult = \"Win\";\r\n            //get champion used\r\n            for (let l = 0; l < champions.length; l++) {\r\n              if (\r\n                champions[l].key ===\r\n                String(result.data.participants[0].championId)\r\n              ) {\r\n                tempFolder.championURL = champions[l].icon;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      //set date and time from the database\r\n      tempFolder.setDate(match_date.toDateString());\r\n      tempFolder.setTime(match_date.toLocaleTimeString());\r\n\r\n      //get all the videos with matching ids\r\n      let videosInMatch = await localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(recentGames[index].match_id)\r\n        .toArray()\r\n        .catch((e) => console.log(e));\r\n      console.log(\"Videos Found: \", videosInMatch);\r\n\r\n      //@ts-ignore\r\n      for (let urls = 0; urls < videosInMatch.length; urls++) {\r\n        let tempVideo = new Video();\r\n\r\n        // console.log(\"duration: \", new Date  (videosInMatch[urls].duration).getSeconds()+\"s\");\r\n        // console.log(\"highlight_start_time: \", new Date  (videosInMatch[urls].highlight_start_time).toLocaleTimeString());\r\n        // console.log(\"hightType: \", videosInMatch[urls].hightType.charAt(0).toUpperCase() + videosInMatch[urls].hightType.slice(1)); //make first letter uppercase\r\n        // console.log(\"media_url: \", videosInMatch[urls].media_url);\r\n        // console.log(\"thumbnail_url: \",videosInMatch[urls].thumbnail_url);\r\n        if (!setFirstVideo) {\r\n          self.current_Video = videosInMatch[urls].media_url;\r\n          setFirstVideo = true;\r\n        }\r\n        tempVideo.videoAddress = videosInMatch[urls].media_url;\r\n        tempVideo.videoStartTime = new Date(\r\n          videosInMatch[urls].highlight_start_time\r\n        ).toLocaleTimeString();\r\n        tempVideo.duration =\r\n          new Date(videosInMatch[urls].duration).getSeconds() + \"s\";\r\n        tempVideo.highlightType =\r\n          videosInMatch[urls].hightType.charAt(0).toUpperCase() +\r\n          videosInMatch[urls].hightType.slice(1); //make first letter uppercase\r\n        tempVideo.thumbnail_url = videosInMatch[urls].thumbnail_url;\r\n\r\n        tempFolder.addVideoToFolder(tempVideo);\r\n      }\r\n\r\n      self.videoList.push(tempFolder);\r\n    }\r\n\r\n    //after this all the data is being displayed\r\n    //but now we need to delete the older games, so they dont pollute the database\r\n    //loop through older games and use game id's to delete data\r\n    //@ts-ignore\r\n    for (let index = 0; index < olderGames.length; index++) {\r\n      //get all the videos with matching ids\r\n      let olderVideos = await localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(olderGames[index].match_id)\r\n        .toArray()\r\n        .catch((e) => console.log(e));\r\n      console.log(\"Older Videos Found: \", olderVideos);\r\n\r\n      //loop through video adresses in matches\r\n      //@ts-ignore\r\n      for (let urls = 0; urls < olderVideos.length; urls++) {\r\n        //delete actual videos from local disk using overwolf\r\n        //@ts-ignore\r\n        overwolf.media.videos.deleteVideo(olderVideos[urls].media_url);\r\n      }\r\n\r\n      //then remove them from the videos database\r\n      localDB\r\n        .table(\"videos\")\r\n        .where(\"match_id\")\r\n        .equals(recentGames[index].match_id)\r\n        .delete()\r\n        .then((deleteCount) => {\r\n          console.log(\"Deleted older highlights videos: \", deleteCount);\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n\r\n    //get all other games\r\n    await localDB\r\n      .table(\"matches\")\r\n      .orderBy(\"match_start_time\")\r\n      .reverse()\r\n      .offset(5)\r\n      .delete()\r\n      .then((deleteCount) => {\r\n        console.log(\"Deleted old match data\", deleteCount);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n\r\n  created() {\r\n    // window resize\r\n    let WindowId;\r\n    //@ts-ignore\r\n    overwolf.windows.getCurrentWindow(function (res) {\r\n      WindowId = res.window.id;\r\n      console.log(\"Window id: \", WindowId);\r\n      let sizeSettings = {\r\n        window_id: WindowId,\r\n        width: 1600,\r\n        height: 800,\r\n        auto_dpi_resize: true, //relevant only for native windows\r\n      };\r\n      //@ts-ignore\r\n      overwolf.windows.changeSize(sizeSettings, (e) => {\r\n        console.log(\"change size callback: \", e);\r\n      });\r\n    });\r\n  }\r\n}\r\n</script>"]}]}