{"remainingRequest":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\ts-loader\\index.js??ref--13-3!C:\\Users\\Molin\\Companion\\shared\\libs\\ow-games-events.ts","dependencies":[{"path":"C:\\Users\\Molin\\Companion\\shared\\libs\\ow-games-events.ts","mtime":1610332830466},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1610245779138},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\babel-loader\\lib\\index.js","mtime":1610329795007},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\ts-loader\\index.js","mtime":1610329799503}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01vbGluL0NvbXBhbmlvbi9pbi1nYW1lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9Nb2xpbi9Db21wYW5pb24vaW4tZ2FtZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL01vbGluL0NvbXBhbmlvbi9pbi1nYW1lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7Ci8vIEB0cy1ub2NoZWNrCmltcG9ydCB7IFRpbWVyIH0gZnJvbSAiLi90aW1lciI7CmV4cG9ydCB2YXIgT1dHYW1lc0V2ZW50cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gT1dHYW1lc0V2ZW50cyhkZWxlZ2F0ZSwgcmVxdWlyZWRGZWF0dXJlcykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgZmVhdHVyZVJldHJpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPV0dhbWVzRXZlbnRzKTsKCiAgICB0aGlzLm9uSW5mb1VwZGF0ZXMgPSBmdW5jdGlvbiAoaW5mbykgewogICAgICBfdGhpcy5fZGVsZWdhdGUub25JbmZvVXBkYXRlcyhpbmZvLmluZm8pOwogICAgfTsKCiAgICB0aGlzLm9uTmV3RXZlbnRzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMuX2RlbGVnYXRlLm9uTmV3RXZlbnRzKGUpOwogICAgfTsKCiAgICB0aGlzLl9kZWxlZ2F0ZSA9IGRlbGVnYXRlOwogICAgdGhpcy5fcmVxdWlyZWRGZWF0dXJlcyA9IHJlcXVpcmVkRmVhdHVyZXM7CiAgICB0aGlzLl9mZWF0dXJlUmV0cmllcyA9IGZlYXR1cmVSZXRyaWVzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKE9XR2FtZXNFdmVudHMsIFt7CiAgICBrZXk6ICJnZXRJbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0SW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICBvdmVyd29sZi5nYW1lcy5ldmVudHMuZ2V0SW5mbyhyZXNvbHZlKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEluZm8oKSB7CiAgICAgICAgcmV0dXJuIF9nZXRJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRJbmZvOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic2V0UmVxdWlyZWRGZWF0dXJlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NldFJlcXVpcmVkRmVhdHVyZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgdHJpZXMsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdHJpZXMgPSAxOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBpZiAoISh0cmllcyA8PSB0aGlzLl9mZWF0dXJlUmV0cmllcykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIG92ZXJ3b2xmLmdhbWVzLmV2ZW50cy5zZXRSZXF1aXJlZEZlYXR1cmVzKF90aGlzMi5fcmVxdWlyZWRGZWF0dXJlcywgcmVzb2x2ZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRSZXF1aXJlZEZlYXR1cmVzKCk6IHN1Y2Nlc3M6ICcgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQuc3VwcG9ydGVkRmVhdHVyZXMubGVuZ3RoID4gMCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gVGltZXIud2FpdCgzMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHRyaWVzKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybignc2V0UmVxdWlyZWRGZWF0dXJlcygpOiBmYWlsdXJlIGFmdGVyICcgKyB0cmllcyArICcgdHJpZXMnICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2V0UmVxdWlyZWRGZWF0dXJlcygpIHsKICAgICAgICByZXR1cm4gX3NldFJlcXVpcmVkRmVhdHVyZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNldFJlcXVpcmVkRmVhdHVyZXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlckV2ZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJFdmVudHMoKSB7CiAgICAgIHRoaXMudW5SZWdpc3RlckV2ZW50cygpOwogICAgICBvdmVyd29sZi5nYW1lcy5ldmVudHMub25JbmZvVXBkYXRlczIuYWRkTGlzdGVuZXIodGhpcy5vbkluZm9VcGRhdGVzKTsKICAgICAgb3ZlcndvbGYuZ2FtZXMuZXZlbnRzLm9uTmV3RXZlbnRzLmFkZExpc3RlbmVyKHRoaXMub25OZXdFdmVudHMpOwogICAgfQogIH0sIHsKICAgIGtleTogInVuUmVnaXN0ZXJFdmVudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVuUmVnaXN0ZXJFdmVudHMoKSB7CiAgICAgIG92ZXJ3b2xmLmdhbWVzLmV2ZW50cy5vbkluZm9VcGRhdGVzMi5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uSW5mb1VwZGF0ZXMpOwogICAgICBvdmVyd29sZi5nYW1lcy5ldmVudHMub25OZXdFdmVudHMucmVtb3ZlTGlzdGVuZXIodGhpcy5vbk5ld0V2ZW50cyk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdGFydCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF95aWVsZCR0aGlzJGdldEluZm8sIHJlcywgc3RhdHVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIltvdy1nYW1lLWV2ZW50c10gU1RBUlQiKTsKICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudHMoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFJlcXVpcmVkRmVhdHVyZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5mbygpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRnZXRJbmZvID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkdGhpcyRnZXRJbmZvLnJlczsKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF95aWVsZCR0aGlzJGdldEluZm8uc3RhdHVzOwoKICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgc3RhdHVzID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5vbkluZm9VcGRhdGVzKHsKICAgICAgICAgICAgICAgICAgICBpbmZvOiByZXMKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgICByZXR1cm4gX3N0YXJ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGFydDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJbb3ctZ2FtZS1ldmVudHNdIFNUT1AiKTsKICAgICAgdGhpcy51blJlZ2lzdGVyRXZlbnRzKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gT1dHYW1lc0V2ZW50czsKfSgpOw=="},{"version":3,"sources":["C:\\Users\\Molin\\Companion\\shared\\libs\\ow-games-events.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\n\r\nimport { Timer } from \"./timer\";\r\n\r\nexport interface IOWGamesEventsDelegate {\r\n  onInfoUpdates(info: any);\r\n  onNewEvents(e: any);\r\n}\r\n\r\nexport class OWGamesEvents {\r\n  private _delegate: IOWGamesEventsDelegate;\r\n  private _featureRetries: number;\r\n  private _requiredFeatures: string[];\r\n\r\n  constructor(delegate: IOWGamesEventsDelegate,\r\n              requiredFeatures: string[],\r\n              featureRetries: number = 10) {\r\n    this._delegate = delegate;\r\n    this._requiredFeatures = requiredFeatures;\r\n    this._featureRetries = featureRetries;\r\n  }\r\n\r\n  public async getInfo(): Promise<any> {\r\n    return new Promise((resolve) => {\r\n      overwolf.games.events.getInfo(resolve);\r\n    })\r\n  }\r\n\r\n  private async setRequiredFeatures(): Promise<boolean> {\r\n    let tries:number = 1,\r\n        result;\r\n\r\n    while ( tries <= this._featureRetries ) {\r\n      result = await new Promise(resolve => {\r\n        overwolf.games.events.setRequiredFeatures(\r\n          this._requiredFeatures,\r\n          resolve\r\n        );\r\n      })\r\n\r\n      if ( result.status === 'success' ) {\r\n        console.log('setRequiredFeatures(): success: '+ JSON.stringify(result, null, 2));\r\n        return (result.supportedFeatures.length > 0);\r\n      }\r\n\r\n      await Timer.wait(3000);\r\n      tries++;\r\n    }\r\n\r\n    console.warn('setRequiredFeatures(): failure after '+ tries +' tries'+ JSON.stringify(result, null, 2));\r\n    return false;\r\n  }\r\n\r\n  private registerEvents(): void {\r\n    this.unRegisterEvents();\r\n\r\n    overwolf.games.events.onInfoUpdates2.addListener(this.onInfoUpdates);\r\n    overwolf.games.events.onNewEvents.addListener(this.onNewEvents);\r\n  }\r\n\r\n  private unRegisterEvents(): void {\r\n    overwolf.games.events.onInfoUpdates2.removeListener(this.onInfoUpdates);\r\n    overwolf.games.events.onNewEvents.removeListener(this.onNewEvents);\r\n  }\r\n\r\n  private onInfoUpdates = (info: any): void => {\r\n    this._delegate.onInfoUpdates(info.info);\r\n  }\r\n\r\n  private onNewEvents = (e: any): void => {\r\n    this._delegate.onNewEvents(e);\r\n  }\r\n\r\n  public async start(): Promise<void> {\r\n    console.log(`[ow-game-events] START`);\r\n\r\n    this.registerEvents();\r\n    await this.setRequiredFeatures();\r\n\r\n    const { res, status } = await this.getInfo();\r\n\r\n    if ( res && status === 'success' ) {\r\n      this.onInfoUpdates({ info: res });\r\n    }\r\n  }\r\n\r\n  public stop(): void {\r\n    console.log(`[ow-game-events] STOP`);\r\n\r\n    this.unRegisterEvents();\r\n  }\r\n}\r\n"],"sourceRoot":""}]}