{"remainingRequest":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\ts-loader\\index.js??ref--13-3!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\in-game\\src\\App.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Molin\\Companion\\in-game\\src\\App.vue","mtime":1615167270420},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1610245779138},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\babel-loader\\lib\\index.js","mtime":1610329795007},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\ts-loader\\index.js","mtime":1610329799503},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610245778946},{"path":"C:\\Users\\Molin\\Companion\\in-game\\node_modules\\vue-loader\\lib\\index.js","mtime":1610329801347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01vbGluL0NvbXBhbmlvbi9pbi1nYW1lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9Nb2xpbi9Db21wYW5pb24vaW4tZ2FtZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL01vbGluL0NvbXBhbmlvbi9pbi1nYW1lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovVXNlcnMvTW9saW4vQ29tcGFuaW9uL2luLWdhbWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOi9Vc2Vycy9Nb2xpbi9Db21wYW5pb24vaW4tZ2FtZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBob3RrZXlzIH0gZnJvbSAiLi4vLi4vc2hhcmVkL2NvbnN0YW50cy9jb25zdHMiOwppbXBvcnQgeyBPV0hvdGtleXMgfSBmcm9tICIuLi8uLi9zaGFyZWQvbGlicy9vdy1ob3RrZXlzIjsKaW1wb3J0IHsgT1dXaW5kb3cgfSBmcm9tICIuLi8uLi9zaGFyZWQvbGlicy9vdy13aW5kb3ciOwppbXBvcnQgRGV4aWUgZnJvbSAiZGV4aWUiOyAvLyBAdHMtaWdub3JlCgp2YXIgV2luZG93U3RhdGUgPSBvdmVyd29sZi53aW5kb3dzLldpbmRvd1N0YXRlOwoKdmFyIEFwcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhBcHAsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFwcCk7CgogIGZ1bmN0aW9uIEFwcCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuZXZlbnRzID0gW107CiAgICBfdGhpcy5pbmZvcyA9IFtdOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEFwcCwgW3sKICAgIGtleTogIl9zaG93RXhpdE1pbmltaXplTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zaG93RXhpdE1pbmltaXplTW9kYWwoKSB7CiAgICAgIHRoaXMuX21vZGFsLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgfQogIH0sIHsKICAgIGtleTogIl9oaWRlRXhpdE1pbmltaXplTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9oaWRlRXhpdE1pbmltaXplTW9kYWwoKSB7CiAgICAgIHRoaXMuX21vZGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9IC8vZGVhbHMgd2l0aCBmdW5jdGlvbnMgb2YgdG9wIGJhciBidXR0b25zCgogIH0sIHsKICAgIGtleTogIm1vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy9jcmVhdGUgZGIgd2l0aCBEZXhpZQogICAgICB2YXIgbG9jYWxEQiA9IG5ldyBEZXhpZSgiaGlnaGxpZ2h0c0RCIik7CiAgICAgIHZhciBmaXJzdEhpZ2hsaWdodCA9IHRydWU7CiAgICAgIGxvY2FsREIudmVyc2lvbigxKS5zdG9yZXMoewogICAgICAgIG1hdGNoZXM6ICJtYXRjaF9pZCwgbWF0Y2hfc3RhcnRfdGltZSIsCiAgICAgICAgdmlkZW9zOiAibWVkaWFfdXJsLCBtYXRjaF9pZCwgdGh1bWJuYWlsX3VybCwgaGlnaGxpZ2h0X3N0YXJ0X3RpbWUsIGR1cmF0aW9uLCBoaWdodFR5cGUiCiAgICAgIH0pOwogICAgICB0aGlzLl9ldmVudHNMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXZlbnRzTG9nIik7CiAgICAgIHRoaXMuX2luZm9Mb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5mb0xvZyIpOwogICAgICB0aGlzLnNldFRvZ2dsZUhvdGtleUJlaGF2aW9yKCk7CiAgICAgIHRoaXMuc2V0VG9nZ2xlSG90a2V5VGV4dCgpOyAvLyBMaXN0ZW4gdG8gWCBidXR0b24gY2xpY2sKCiAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5fc2hvd0V4aXRNaW5pbWl6ZU1vZGFsKTsgLy8gTGlzdGVuIHRvIG1pbmltaXplIGNsaWNrCgoKICAgICAgdGhpcy5fbWluaW1pemVIZWFkZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmN1cnJXaW5kb3cubWluaW1pemUoKTsKICAgICAgfSk7IC8vIENsb3NlIGFwcCBvbiBleGl0IGNsaWNrCgoKICAgICAgdGhpcy5fZXhpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuX2JhY2tncm91bmRXaW5kb3cuY2xvc2UoKTsKICAgICAgfSk7IC8vIE1pbmltaXplIGFwcCBvbiBtaW5pbWl6ZSBjbGljawoKCiAgICAgIHRoaXMuX21pbmltaXplQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5fYmFja2dyb3VuZFdpbmRvdy5taW5pbWl6ZSgpOwoKICAgICAgICBfdGhpczIuX2hpZGVFeGl0TWluaW1pemVNb2RhbCgpOwogICAgICB9KTsgLy8gV2hlbiB0aGUgdXNlciBjbGlja3MgYW55d2hlcmUgb3V0c2lkZSBvZiB0aGUgbW9kYWwsIGNsb3NlIGl0CgoKICAgICAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IF90aGlzMi5fbW9kYWwpIHsKICAgICAgICAgIF90aGlzMi5faGlkZUV4aXRNaW5pbWl6ZU1vZGFsKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdGhpcy5jdXJyV2luZG93LmRyYWdNb3ZlKHRoaXMuX2hlYWRlcik7IC8vIEF1dG8taGlnaGxpZ2h0cwogICAgICAvLyBAdHMtaWdub3JlCgogICAgICBvdmVyd29sZi5tZWRpYS5yZXBsYXlzLm9uQ2FwdHVyZUVycm9yLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygicmVzdWx0IGZyb20gQ2FwdHVyZUVycm9yRXZlbnQ6ICIsIHJlcyk7CiAgICAgIH0pOyAvLyBAdHMtaWdub3JlCgogICAgICBvdmVyd29sZi5tZWRpYS5yZXBsYXlzLm9uQ2FwdHVyZVN0b3BwZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQgZnJvbSBDYXB0dXJlIFN0b3BwZWQ6ICIsIHJlcyk7CiAgICAgIH0pOyAvLyBAdHMtaWdub3JlCgogICAgICBvdmVyd29sZi5tZWRpYS5yZXBsYXlzLm9uQ2FwdHVyZVdhcm5pbmcuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQgZnJvbSBDYXB0dXJlIFdhcm5pbmc6ICIsIHJlcyk7CiAgICAgIH0pOyAvLyBAdHMtaWdub3JlCgogICAgICBvdmVyd29sZi5tZWRpYS5yZXBsYXlzLm9uUmVwbGF5U2VydmljZXNTdGFydGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygicmVzdWx0IGZyb20gb25SZXBsYXlTZXJ2aWNlc1N0YXJ0ZWQ6ICIsIHJlcyk7CiAgICAgIH0pOyAvLyBAdHMtaWdub3JlCgogICAgICBvdmVyd29sZi5tZWRpYS5yZXBsYXlzLm9uSGlnaGxpZ2h0c0NhcHR1cmVkLmFkZExpc3RlbmVyKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgdmFyIHBhdGg7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQgZnJvbSBvbkhpZ2hsaWdodHNDYXB0dXJlZDogIiwgcmVzKTsKICAgICAgICAgICAgICAgICAgcGF0aCA9IHJlcy5tZWRpYV91cmwucmVwbGFjZSgicmVwbGF5cyIsICJ2aWRlb3MiKTsKCiAgICAgICAgICAgICAgICAgIGlmICghZmlyc3RIaWdobGlnaHQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi50YWJsZSgibWF0Y2hlcyIpLnB1dCh7CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hfaWQ6IHJlcy5tYXRjaF9pZCwKICAgICAgICAgICAgICAgICAgICBtYXRjaF9zdGFydF90aW1lOiByZXMubWF0Y2hfc3RhcnRfdGltZQogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIudGFibGUoInZpZGVvcyIpLmFkZCh7CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hfaWQ6IHJlcy5tYXRjaF9pZCwKICAgICAgICAgICAgICAgICAgICBtZWRpYV91cmw6IHBhdGgsCiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsX3VybDogcmVzLnRodW1ibmFpbF91cmwsCiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0X3N0YXJ0X3RpbWU6IHJlcy5zdGFydF90aW1lLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiByZXMuZHVyYXRpb24sCiAgICAgICAgICAgICAgICAgICAgaGlnaHRUeXBlOiByZXMuZXZlbnRzWzBdCiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIGZpcnN0SGlnaGxpZ2h0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi50YWJsZSgidmlkZW9zIikuYWRkKHsKICAgICAgICAgICAgICAgICAgICBtZWRpYV91cmw6IHBhdGgsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hfaWQ6IHJlcy5tYXRjaF9pZCwKICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxfdXJsOiByZXMudGh1bWJuYWlsX3VybCwKICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRfc3RhcnRfdGltZTogcmVzLnN0YXJ0X3RpbWUsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHJlcy5kdXJhdGlvbiwKICAgICAgICAgICAgICAgICAgICBoaWdodFR5cGU6IHJlcy5ldmVudHNbMF0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICAgIHZhciB2aWRlb1NldHRpbmcgPSB7CiAgICAgICAgdmlkZW86IHsKICAgICAgICAgIGJ1ZmZlcl9sZW5ndGg6IDIwMDAwLAogICAgICAgICAgb3ZlcnJpZGVfb3ZlcndvbGZfc2V0dGluZzogZmFsc2UsCiAgICAgICAgICBmcHM6IDMwLAogICAgICAgICAgd2lkdGg6IDE5MjAsCiAgICAgICAgICBoZWlnaHQ6IDEwODAKICAgICAgICB9LAogICAgICAgIGdhbWU6IHsKICAgICAgICAgIHZvbHVtZTogNzUsCiAgICAgICAgICBlbmFibGU6IHRydWUKICAgICAgICB9LAogICAgICAgIHF1b3RhOiB7CiAgICAgICAgICBtYXhfcXVvdGFfZ2I6IDEsCiAgICAgICAgICBleGNsdWRlZF9kaXJlY3RvcmllczogWyJjb29sX3Nlc3Npb24iXQogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGNhbGxiYWNrID0gewogICAgICAgIHN1Y2Nlc3M6IHRydWUsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIG1ldGFkYXRhOiAiIiwKICAgICAgICBtZWRpYUZvbGRlcjogIiIsCiAgICAgICAgb3NWZXJzaW9uOiAiIiwKICAgICAgICBvc0J1aWxkOiAiIgogICAgICB9OyAvLyBAdHMtaWdub3JlCgogICAgICBvdmVyd29sZi5tZWRpYS5yZXBsYXlzLnR1cm5Pbih7CiAgICAgICAgc2V0dGluZ3M6IHZpZGVvU2V0dGluZywKICAgICAgICBoaWdobGlnaHRzOiB7CiAgICAgICAgICBlbmFibGU6IHRydWUsCiAgICAgICAgICByZXF1aXJlZEhpZ2hsaWdodHM6IFsiZGVhdGgiLCAiYXNzaXN0IiwgImtpbGwiLCAidmljdG9yeSJdCiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29uc29sZS5sb2coIlR1cm5pbmcgb24gQXV0byBIaWdobGlnaHRzOiAiLCByZXN1bHQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIEJhY2tncm91bmQgd2luZG93OgoKICAgICAgdGhpcy5fYmFja2dyb3VuZFdpbmRvdyA9IG5ldyBPV1dpbmRvdygiYmFja2dyb3VuZCIpOwogICAgICB0aGlzLmN1cnJXaW5kb3cgPSBuZXcgT1dXaW5kb3coImluX2dhbWUiKTsgLy8gUGFnZSBlbGVtZW50czoKCiAgICAgIHRoaXMuX21vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4aXRNaW5pbWl6ZU1vZGFsIik7CiAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlQnV0dG9uIik7CiAgICAgIHRoaXMuX21pbmltaXplSGVhZGVyQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1pbmltaXplQnV0dG9uIik7CiAgICAgIHRoaXMuX2V4aXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhpdCIpOwogICAgICB0aGlzLl9taW5pbWl6ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtaW5pbWl6ZSIpOwogICAgICB0aGlzLl9oZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhcHAtaGVhZGVyIilbMF07CiAgICAgIHRoaXMuX3ZlcnNpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmVyc2lvbiIpOyAvLyB0aGlzLl9nYW1lRXZlbnRzTGlzdGVuZXIgPSBuZXcgT1dHYW1lc0V2ZW50cygKICAgICAgLy8gICB7CiAgICAgIC8vICAgICBvbkluZm9VcGRhdGVzOiB0aGlzLm9uSW5mb1VwZGF0ZXMuYmluZCh0aGlzKSwKICAgICAgLy8gICAgIG9uTmV3RXZlbnRzOiB0aGlzLm9uTmV3RXZlbnRzLmJpbmQodGhpcyksCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBpbnRlcmVzdGluZ0ZlYXR1cmVzCiAgICAgIC8vICk7CiAgICAgIC8vIHRoaXMuX2dhbWVFdmVudHNMaXN0ZW5lci5zdGFydCgpOwoKICAgICAgdmFyIGdfaW50ZXJlc3RlZEluRmVhdHVyZXMgPSBbInN1bW1vbmVyX2luZm8iLCAiZ2FtZU1vZGUiLCAidGVhbXMiLCAibWF0Y2hTdGF0ZSIsICJraWxsIiwgImRlYXRoIiwgInJlc3Bhd24iLCAiYXNzaXN0IiwgIm1pbmlvbnMiLCAibGV2ZWwiLCAiYWJpbGl0aWVzIiwgImFubm91bmNlciIsICJjb3VudGVycyIsICJtYXRjaF9pbmZvIiwgImRhbWFnZSIsICJoZWFsIiwgImxpdmVfY2xpZW50X2RhdGEiXTsKCiAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRzKCkgewogICAgICAgIC8vIGdlbmVyYWwgZXZlbnRzIGVycm9ycwogICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgIG92ZXJ3b2xmLmdhbWVzLmV2ZW50cy5vbkVycm9yLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IgbGlzdGVuZXIiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcjogIiArIEpTT04uc3RyaW5naWZ5KGluZm8pKTsKICAgICAgICB9KTsgLy8gInN0YXRpYyIgZGF0YSBjaGFuZ2VkICh0b3RhbCBraWxscywgdXNlcm5hbWUsIHN0ZWFtLWlkKQogICAgICAgIC8vIFRoaXMgd2lsbCBhbHNvIGJlIHRyaWdnZXJlZCB0aGUgZmlyc3QgdGltZSB3ZSByZWdpc3RlcgogICAgICAgIC8vIGZvciBldmVudHMgYW5kIHdpbGwgY29udGFpbiBhbGwgdGhlIGN1cnJlbnQgaW5mb3JtYXRpb24KICAgICAgICAvL0B0cy1pZ25vcmUKCiAgICAgICAgb3ZlcndvbGYuZ2FtZXMuZXZlbnRzLm9uSW5mb1VwZGF0ZXMyLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgICAvLyAgY29uc29sZS5sb2coIkluZm8gVVBEQVRFOiAiICsgSlNPTi5zdHJpbmdpZnkoaW5mbykpOwogICAgICAgICAgc2VsZi5pbmZvcy5wdXNoKGluZm8pOwogICAgICAgIH0pOyAvLyBhbiBldmVudCB0cmlnZ2VyZAogICAgICAgIC8vQHRzLWlnbm9yZQoKICAgICAgICBvdmVyd29sZi5nYW1lcy5ldmVudHMub25OZXdFdmVudHMuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICAgIHNlbGYuZXZlbnRzLnB1c2goaW5mbyk7IC8vICBjb25zb2xlLmxvZygiRVZFTlQgRklSRUQ6ICIgKyBKU09OLnN0cmluZ2lmeShpbmZvKSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdhbWVMYXVuY2hlZChnYW1lSW5mb1Jlc3VsdCkgewogICAgICAgIGlmICghZ2FtZUluZm9SZXN1bHQpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmICghZ2FtZUluZm9SZXN1bHQuZ2FtZUluZm8pIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmICghZ2FtZUluZm9SZXN1bHQucnVubmluZ0NoYW5nZWQgJiYgIWdhbWVJbmZvUmVzdWx0LmdhbWVDaGFuZ2VkKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWdhbWVJbmZvUmVzdWx0LmdhbWVJbmZvLmlzUnVubmluZykgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gLy8gTk9URTogd2UgZGl2aWRlIGJ5IDEwIHRvIGdldCB0aGUgZ2FtZSBjbGFzcyBpZCB3aXRob3V0IGl0J3Mgc2VxdWVuY2UgbnVtYmVyCgoKICAgICAgICBpZiAoTWF0aC5mbG9vcihnYW1lSW5mb1Jlc3VsdC5nYW1lSW5mby5pZCAvIDEwKSAhPSA1NDI2KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygiTG9MIExhdW5jaGVkIik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdhbWVSdW5uaW5nKGdhbWVJbmZvKSB7CiAgICAgICAgaWYgKCFnYW1lSW5mbykgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFnYW1lSW5mby5pc1J1bm5pbmcpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IC8vIE5PVEU6IHdlIGRpdmlkZSBieSAxMCB0byBnZXQgdGhlIGdhbWUgY2xhc3MgaWQgd2l0aG91dCBpdCdzIHNlcXVlbmNlIG51bWJlcgoKCiAgICAgICAgaWYgKE1hdGguZmxvb3IoZ2FtZUluZm8uaWQgLyAxMCkgIT0gNTQyNikgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coIkxvTCBydW5uaW5nIik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNldEZlYXR1cmVzKCkgewogICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgIG92ZXJ3b2xmLmdhbWVzLmV2ZW50cy5zZXRSZXF1aXJlZEZlYXR1cmVzKGdfaW50ZXJlc3RlZEluRmVhdHVyZXMsIGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgICBpZiAoaW5mby5zdGF0dXMgPT0gImVycm9yIikgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJDb3VsZCBub3Qgc2V0IHJlcXVpcmVkIGZlYXR1cmVzOiAiICsgaW5mby5yZWFzb24pOwogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJUcnlpbmcgaW4gMiBzZWNvbmRzIik7CiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNldEZlYXR1cmVzLCAyMDAwKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCJTZXQgcmVxdWlyZWQgZmVhdHVyZXM6Iik7CiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShpbmZvKSk7IC8vIC8vQHRzLWlnbm9yZQogICAgICAgICAgLy8gb3ZlcndvbGYuZ2FtZXMuZXZlbnRzLmdldEluZm8oIHJlc3VsdCA9PnsKICAgICAgICAgIC8vICAgY29uc29sZS5sb2coInJlc3VsdCIscmVzdWx0KTsKICAgICAgICAgIC8vICAgc2VsZi5ldmVudHMucHVzaChyZXN1bHQpOwogICAgICAgICAgLy8gfSkKICAgICAgICB9KTsKICAgICAgfSAvLyBTdGFydCBoZXJlCiAgICAgIC8vQHRzLWlnbm9yZQoKCiAgICAgIG92ZXJ3b2xmLmdhbWVzLm9uR2FtZUluZm9VcGRhdGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoZ2FtZUxhdW5jaGVkKHJlcykpIHsKICAgICAgICAgIHJlZ2lzdGVyRXZlbnRzKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KHNldEZlYXR1cmVzLCAxMDAwKTsKICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCJvbkdhbWVJbmZvVXBkYXRlZDogIiArIEpTT04uc3RyaW5naWZ5KHJlcykpOwoKICAgICAgfSk7IC8vQHRzLWlnbm9yZQoKICAgICAgb3ZlcndvbGYuZ2FtZXMuZ2V0UnVubmluZ0dhbWVJbmZvKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoZ2FtZVJ1bm5pbmcocmVzKSkgewogICAgICAgICAgcmVnaXN0ZXJFdmVudHMoKTsKICAgICAgICAgIHNldFRpbWVvdXQoc2V0RmVhdHVyZXMsIDEwMDApOwogICAgICAgIH0gLy8gIGNvbnNvbGUubG9nKCJnZXRSdW5uaW5nR2FtZUluZm86ICIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uSW5mb1VwZGF0ZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5mb1VwZGF0ZXMoaW5mbykgewogICAgICB0aGlzLmluZm9zLnB1c2goaW5mbyk7CiAgICB9IC8vIFNwZWNpYWwgZXZlbnRzIHdpbGwgYmUgaGlnaGxpZ2h0ZWQgaW4gdGhlIGV2ZW50IGxvZwoKICB9LCB7CiAgICBrZXk6ICJvbk5ld0V2ZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25OZXdFdmVudHMoZSkgewogICAgICB0aGlzLmV2ZW50cy5wdXNoKGUpOwogICAgfSAvLyBEaXNwbGF5cyB0aGUgdG9nZ2xlIG1pbmltaXplL3Jlc3RvcmUgaG90a2V5IGluIHRoZSB3aW5kb3cgaGVhZGVyCgogIH0sIHsKICAgIGtleTogInNldFRvZ2dsZUhvdGtleVRleHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZXRUb2dnbGVIb3RrZXlUZXh0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gY29uc3QgaG90a2V5VGV4dCA9IGF3YWl0IE9XSG90a2V5cy5nZXRIb3RrZXlUZXh0KGhvdGtleXMudG9nZ2xlKTsKICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgICAgICAgb3ZlcndvbGYuc2V0dGluZ3MuaG90a2V5cy5nZXQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImhvdGtleSBkYXRhIiwgZS5nYW1lc1siNTQyNiJdKTsKICAgICAgICAgICAgICAgICAgdmFyIGhvdGtleUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaG90a2V5Iik7IC8vQHRzLWlnbm9yZQoKICAgICAgICAgICAgICAgICAgaG90a2V5RWxlbS50ZXh0Q29udGVudCA9IGUuZ2FtZXNbIjU0MjYiXVsiMCJdWyJiaW5kaW5nIl07IC8vQHRzLWlnbm9yZQoKICAgICAgICAgICAgICAgICAgb3ZlcndvbGYuc2V0dGluZ3MuaG90a2V5cy5PblByZXNzZWRFdmVudC5hZGRMaXN0ZW5lcihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImhvdGtleSBwcmVzc2VkIiwgcmVzKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2V0VG9nZ2xlSG90a2V5VGV4dCgpIHsKICAgICAgICByZXR1cm4gX3NldFRvZ2dsZUhvdGtleVRleHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNldFRvZ2dsZUhvdGtleVRleHQ7CiAgICB9KCkgLy8gU2V0cyB0b2dnbGVJbkdhbWVXaW5kb3cgYXMgdGhlIGJlaGF2aW9yIGZvciB0aGUgQ3RybCtGIGhvdGtleQoKICB9LCB7CiAgICBrZXk6ICJzZXRUb2dnbGVIb3RrZXlCZWhhdmlvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NldFRvZ2dsZUhvdGtleUJlaGF2aW9yID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIHRvZ2dsZUluR2FtZVdpbmRvdzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdG9nZ2xlSW5HYW1lV2luZG93ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhob3RrZXlSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaW5HYW1lU3RhdGU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwcmVzc2VkIGhvdGtleSBmb3IgIi5jb25jYXQoaG90a2V5UmVzdWx0LmZlYXR1cmVJZCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRXaW5kb3dTdGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbkdhbWVTdGF0ZSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbkdhbWVTdGF0ZS53aW5kb3dfc3RhdGUgPT09IFdpbmRvd1N0YXRlLk5PUk1BTCB8fCBpbkdhbWVTdGF0ZS53aW5kb3dfc3RhdGUgPT09IFdpbmRvd1N0YXRlLk1BWElNSVpFRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuY3VycldpbmRvdy5taW5pbWl6ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbkdhbWVTdGF0ZS53aW5kb3dfc3RhdGUgPT09IFdpbmRvd1N0YXRlLk1JTklNSVpFRCB8fCBpbkdhbWVTdGF0ZS53aW5kb3dfc3RhdGUgPT09IFdpbmRvd1N0YXRlLkNMT1NFRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuY3VycldpbmRvdy5yZXN0b3JlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0b2dnbGVJbkdhbWVXaW5kb3coX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCk7CgogICAgICAgICAgICAgICAgT1dIb3RrZXlzLm9uSG90a2V5RG93bihob3RrZXlzLnRvZ2dsZSwgdG9nZ2xlSW5HYW1lV2luZG93KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2V0VG9nZ2xlSG90a2V5QmVoYXZpb3IoKSB7CiAgICAgICAgcmV0dXJuIF9zZXRUb2dnbGVIb3RrZXlCZWhhdmlvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2V0VG9nZ2xlSG90a2V5QmVoYXZpb3I7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRXaW5kb3dTdGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFdpbmRvd1N0YXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycldpbmRvdy5nZXRXaW5kb3dTdGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRXaW5kb3dTdGF0ZSgpIHsKICAgICAgICByZXR1cm4gX2dldFdpbmRvd1N0YXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRXaW5kb3dTdGF0ZTsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIEFwcDsKfShWdWUpOwoKQXBwID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgQXBwKTsKZXhwb3J0IGRlZmF1bHQgQXBwOw=="},{"version":3,"sources":["C:\\Users\\Molin\\Companion\\in-game\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Molin\\Companion\\in-game\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Molin\\Companion\\in-game\\src\\App.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport { OWGamesEvents } from \"../../shared/libs/ow-games-events\";\r\nimport {\r\n  hotkeys,\r\n  interestingFeatures,\r\n  windowNames,\r\n} from \"../../shared/constants/consts\";\r\nimport { OWHotkeys } from \"../../shared/libs/ow-hotkeys\";\r\nimport { OWWindow } from \"../../shared/libs/ow-window\";\r\nimport Dexie from \"dexie\";\r\n// @ts-ignore\r\nlet WindowState = overwolf.windows.WindowState;\r\n\r\n@Component\r\nexport default class App extends Vue {\r\n  private _gameEventsListener: OWGamesEvents;\r\n  private _eventsLog: HTMLElement;\r\n  private _infoLog: HTMLElement;\r\n  public events: Array<any> = [];\r\n  public infos: Array<any> = [];\r\n  _backgroundWindow: OWWindow;\r\n  currWindow: OWWindow;\r\n  _modal: HTMLElement;\r\n  _closeButton: HTMLElement;\r\n  _minimizeHeaderButton: HTMLElement;\r\n  _exitButton: HTMLElement;\r\n  _minimizeButton: HTMLElement;\r\n  _header: HTMLElement;\r\n  _version: HTMLElement;\r\n\r\n  _showExitMinimizeModal() {\r\n    this._modal.style.display = \"block\";\r\n  }\r\n  _hideExitMinimizeModal() {\r\n    this._modal.style.display = \"none\";\r\n  }\r\n\r\n  //deals with functions of top bar buttons\r\n  mounted() {\r\n    //create db with Dexie\r\n    var localDB = new Dexie(\"highlightsDB\");\r\n    var firstHighlight = true;\r\n\r\n    localDB.version(1).stores({\r\n      matches: \"match_id, match_start_time\",\r\n      videos:\r\n        \"media_url, match_id, thumbnail_url, highlight_start_time, duration, hightType\",\r\n    });\r\n\r\n    this._eventsLog = document.getElementById(\"eventsLog\");\r\n    this._infoLog = document.getElementById(\"infoLog\");\r\n\r\n    this.setToggleHotkeyBehavior();\r\n    this.setToggleHotkeyText();\r\n    // Listen to X button click\r\n    this._closeButton.addEventListener(\"click\", this._showExitMinimizeModal);\r\n    // Listen to minimize click\r\n    this._minimizeHeaderButton.addEventListener(\"click\", () => {\r\n      this.currWindow.minimize();\r\n    });\r\n    // Close app on exit click\r\n    this._exitButton.addEventListener(\"click\", () => {\r\n      this._backgroundWindow.close();\r\n    });\r\n    // Minimize app on minimize click\r\n    this._minimizeButton.addEventListener(\"click\", () => {\r\n      this._backgroundWindow.minimize();\r\n      this._hideExitMinimizeModal();\r\n    });\r\n    // When the user clicks anywhere outside of the modal, close it\r\n    window.onclick = (event) => {\r\n      if (event.target == this._modal) {\r\n        this._hideExitMinimizeModal();\r\n      }\r\n    };\r\n    this.currWindow.dragMove(this._header);\r\n\r\n    // Auto-highlights\r\n    // @ts-ignore\r\n    overwolf.media.replays.onCaptureError.addListener(function (res) {\r\n      console.log(\"result from CaptureErrorEvent: \", res);\r\n    });\r\n\r\n    // @ts-ignore\r\n    overwolf.media.replays.onCaptureStopped.addListener(function (res) {\r\n      console.log(\"result from Capture Stopped: \", res);\r\n    });\r\n    // @ts-ignore\r\n    overwolf.media.replays.onCaptureWarning.addListener(function (res) {\r\n      console.log(\"result from Capture Warning: \", res);\r\n    });\r\n    // @ts-ignore\r\n\r\n    overwolf.media.replays.onReplayServicesStarted.addListener(function (res) {\r\n      console.log(\"result from onReplayServicesStarted: \", res);\r\n    });\r\n    // @ts-ignore\r\n\r\n    overwolf.media.replays.onHighlightsCaptured.addListener(async function (\r\n      res\r\n    ) {\r\n      console.log(\"result from onHighlightsCaptured: \", res);\r\n\r\n      let path = res.media_url.replace(\"replays\", \"videos\");\r\n\r\n      if (firstHighlight) {\r\n        await localDB\r\n          .table(\"matches\")\r\n          .put({\r\n            match_id: res.match_id,\r\n            match_start_time: res.match_start_time,\r\n          })\r\n          .catch((e) => console.log(e));\r\n        await localDB\r\n          .table(\"videos\")\r\n          .add({\r\n            match_id: res.match_id,\r\n            media_url: path,\r\n            thumbnail_url: res.thumbnail_url,\r\n            highlight_start_time: res.start_time,\r\n            duration: res.duration,\r\n            hightType: res.events[0],\r\n          })\r\n          .catch((e) => console.log(e));\r\n          firstHighlight = false;\r\n      } else {\r\n        await localDB\r\n          .table(\"videos\")\r\n          .add({\r\n            media_url: path,\r\n            match_id: res.match_id,\r\n            thumbnail_url: res.thumbnail_url,\r\n            highlight_start_time: res.start_time,\r\n            duration: res.duration,\r\n            hightType: res.events[0],\r\n          })\r\n          .catch((e) => console.log(e));\r\n      }\r\n    });\r\n\r\n    let videoSetting = {\r\n      video: {\r\n        buffer_length: 20000,\r\n        override_overwolf_setting: false,\r\n        fps: 30,\r\n        width: 1920,\r\n        height: 1080,\r\n      },\r\n      game: {\r\n        volume: 75,\r\n        enable: true,\r\n      },\r\n      quota: {\r\n        max_quota_gb: 1,\r\n        excluded_directories: [\"cool_session\"], //set directories that are not part of the quota\r\n      },\r\n    };\r\n    let callback = {\r\n      success: true,\r\n      description: \"\",\r\n      metadata: \"\",\r\n      mediaFolder: \"\",\r\n      osVersion: \"\",\r\n      osBuild: \"\",\r\n    };\r\n    // @ts-ignore\r\n    overwolf.media.replays.turnOn(\r\n      {\r\n        settings: videoSetting,\r\n        highlights: {\r\n          enable: true, //set false if you want to record the highlights manually\r\n          requiredHighlights: [\"death\", \"assist\", \"kill\", \"victory\"], // events to capture\r\n        },\r\n      },\r\n      (result) => {\r\n        console.log(\"Turning on Auto Highlights: \", result);\r\n      }\r\n    );\r\n  }\r\n\r\n  public created() {\r\n    let self = this;\r\n    // Background window:\r\n    this._backgroundWindow = new OWWindow(\"background\");\r\n    this.currWindow = new OWWindow(\"in_game\");\r\n    // Page elements:\r\n    this._modal = document.getElementById(\"exitMinimizeModal\");\r\n    this._closeButton = document.getElementById(\"closeButton\");\r\n    this._minimizeHeaderButton = document.getElementById(\"minimizeButton\");\r\n    this._exitButton = document.getElementById(\"exit\");\r\n    this._minimizeButton = document.getElementById(\"minimize\");\r\n    this._header = document.getElementsByClassName(\r\n      \"app-header\"\r\n    )[0] as HTMLElement;\r\n    this._version = document.getElementById(\"version\");\r\n    // this._gameEventsListener = new OWGamesEvents(\r\n    //   {\r\n    //     onInfoUpdates: this.onInfoUpdates.bind(this),\r\n    //     onNewEvents: this.onNewEvents.bind(this),\r\n    //   },\r\n    //   interestingFeatures\r\n    // );\r\n    // this._gameEventsListener.start();\r\n\r\n    var g_interestedInFeatures = [\r\n      \"summoner_info\",\r\n      \"gameMode\",\r\n      \"teams\",\r\n      \"matchState\",\r\n      \"kill\",\r\n      \"death\",\r\n      \"respawn\",\r\n      \"assist\",\r\n      \"minions\",\r\n      \"level\",\r\n      \"abilities\",\r\n      \"announcer\",\r\n      \"counters\",\r\n      \"match_info\",\r\n      \"damage\",\r\n      \"heal\",\r\n      \"live_client_data\",\r\n      // 'gold'\r\n    ];\r\n\r\n    function registerEvents() {\r\n      // general events errors\r\n      //@ts-ignore\r\n      overwolf.games.events.onError.addListener(function (info) {\r\n        console.log(\"error listener\");\r\n        console.log(\"Error: \" + JSON.stringify(info));\r\n      });\r\n\r\n      // \"static\" data changed (total kills, username, steam-id)\r\n      // This will also be triggered the first time we register\r\n      // for events and will contain all the current information\r\n      //@ts-ignore\r\n\r\n      overwolf.games.events.onInfoUpdates2.addListener(function (info) {\r\n        //  console.log(\"Info UPDATE: \" + JSON.stringify(info));\r\n        self.infos.push(info);\r\n      });\r\n\r\n      // an event triggerd\r\n      //@ts-ignore\r\n\r\n      overwolf.games.events.onNewEvents.addListener(function (info) {\r\n        self.events.push(info);\r\n        //  console.log(\"EVENT FIRED: \" + JSON.stringify(info));\r\n      });\r\n    }\r\n\r\n    function gameLaunched(gameInfoResult) {\r\n      if (!gameInfoResult) {\r\n        return false;\r\n      }\r\n\r\n      if (!gameInfoResult.gameInfo) {\r\n        return false;\r\n      }\r\n\r\n      if (!gameInfoResult.runningChanged && !gameInfoResult.gameChanged) {\r\n        return false;\r\n      }\r\n\r\n      if (!gameInfoResult.gameInfo.isRunning) {\r\n        return false;\r\n      }\r\n\r\n      // NOTE: we divide by 10 to get the game class id without it's sequence number\r\n      if (Math.floor(gameInfoResult.gameInfo.id / 10) != 5426) {\r\n        return false;\r\n      }\r\n\r\n      console.log(\"LoL Launched\");\r\n      return true;\r\n    }\r\n\r\n    function gameRunning(gameInfo) {\r\n      if (!gameInfo) {\r\n        return false;\r\n      }\r\n\r\n      if (!gameInfo.isRunning) {\r\n        return false;\r\n      }\r\n\r\n      // NOTE: we divide by 10 to get the game class id without it's sequence number\r\n      if (Math.floor(gameInfo.id / 10) != 5426) {\r\n        return false;\r\n      }\r\n\r\n      console.log(\"LoL running\");\r\n      return true;\r\n    }\r\n\r\n    function setFeatures() {\r\n      //@ts-ignore\r\n\r\n      overwolf.games.events.setRequiredFeatures(\r\n        g_interestedInFeatures,\r\n        function (info) {\r\n          if (info.status == \"error\") {\r\n            //console.log(\"Could not set required features: \" + info.reason);\r\n            //console.log(\"Trying in 2 seconds\");\r\n            window.setTimeout(setFeatures, 2000);\r\n            return;\r\n          }\r\n\r\n          console.log(\"Set required features:\");\r\n          console.log(JSON.stringify(info));\r\n          // //@ts-ignore\r\n          // overwolf.games.events.getInfo( result =>{\r\n          //   console.log(\"result\",result);\r\n          //   self.events.push(result);\r\n          // })\r\n        }\r\n      );\r\n    }\r\n\r\n    // Start here\r\n    //@ts-ignore\r\n\r\n    overwolf.games.onGameInfoUpdated.addListener(function (res) {\r\n      if (gameLaunched(res)) {\r\n        registerEvents();\r\n        setTimeout(setFeatures, 1000);\r\n      }\r\n\r\n      // console.log(\"onGameInfoUpdated: \" + JSON.stringify(res));\r\n    });\r\n\r\n    //@ts-ignore\r\n\r\n    overwolf.games.getRunningGameInfo(function (res) {\r\n      if (gameRunning(res)) {\r\n        registerEvents();\r\n        setTimeout(setFeatures, 1000);\r\n      }\r\n      //  console.log(\"getRunningGameInfo: \" + JSON.stringify(res));\r\n    });\r\n  }\r\n\r\n  private onInfoUpdates(info) {\r\n    this.infos.push(info);\r\n  }\r\n\r\n  // Special events will be highlighted in the event log\r\n  private onNewEvents(e) {\r\n    this.events.push(e);\r\n  }\r\n\r\n  // Displays the toggle minimize/restore hotkey in the window header\r\n  private async setToggleHotkeyText() {\r\n    // const hotkeyText = await OWHotkeys.getHotkeyText(hotkeys.toggle);\r\n\r\n    //@ts-ignore\r\n    overwolf.settings.hotkeys.get((e) => {\r\n      console.log(\"hotkey data\", e.games[\"5426\"]);\r\n      const hotkeyElem = document.getElementById(\"hotkey\");\r\n      //@ts-ignore\r\n      hotkeyElem.textContent = e.games[\"5426\"][\"0\"][\"binding\"];\r\n\r\n      //@ts-ignore\r\n      overwolf.settings.hotkeys.OnPressedEvent.addListener(function (res) {\r\n        console.log(\"hotkey pressed\", res);\r\n      });\r\n    });\r\n  }\r\n\r\n  // Sets toggleInGameWindow as the behavior for the Ctrl+F hotkey\r\n  private async setToggleHotkeyBehavior() {\r\n    const toggleInGameWindow = async (hotkeyResult) => {\r\n      console.log(`pressed hotkey for ${hotkeyResult.featureId}`);\r\n      const inGameState = await this.getWindowState();\r\n\r\n      if (\r\n        inGameState.window_state === WindowState.NORMAL ||\r\n        inGameState.window_state === WindowState.MAXIMIZED\r\n      ) {\r\n        this.currWindow.minimize();\r\n      } else if (\r\n        inGameState.window_state === WindowState.MINIMIZED ||\r\n        inGameState.window_state === WindowState.CLOSED\r\n      ) {\r\n        this.currWindow.restore();\r\n      }\r\n    };\r\n\r\n    OWHotkeys.onHotkeyDown(hotkeys.toggle, toggleInGameWindow);\r\n  }\r\n  public async getWindowState() {\r\n    return await this.currWindow.getWindowState();\r\n  }\r\n}\r\n"],"sourceRoot":""}]}